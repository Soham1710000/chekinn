{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":32,"index":90}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":47,"index":138}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),_e.useAudioRecording=function(){const[e,s]=(0,o.useState)(null),[d,u]=(0,o.useState)(!1),[l,f]=t.Audio.usePermissions();(0,o.useEffect)(()=>()=>{e&&e.stopAndUnloadAsync().catch(console.error)},[e]);const A=(0,o.useCallback)(async()=>{try{if('granted'!==l?.status){console.log('Requesting microphone permission...');if('granted'!==(await f()).status)throw new Error('Microphone permission was denied')}const e={allowsRecordingIOS:!0,playsInSilentModeIOS:!0,staysActiveInBackground:!1};'android'===c.default.OS&&t.Audio.AndroidAudioUsage&&(e.interruptionModeAndroid=t.Audio.AndroidAudioUsage.VOICE_COMMUNICATION),await t.Audio.setAudioModeAsync(e);const{recording:o}=await t.Audio.Recording.createAsync(t.Audio.RecordingOptionsPresets.HIGH_QUALITY);s(o),u(!0)}catch(e){throw console.error('Failed to start recording:',e),e}},[l,f]),b=(0,o.useCallback)(async()=>{if(!e)throw new Error('No active recording');try{await e.stopAndUnloadAsync();const o=e.getURI();return s(null),u(!1),o}catch(e){throw console.error('Failed to stop recording:',e),e}},[e]),p=(0,o.useCallback)(async e=>{try{if('web'===c.default.OS){const o=await fetch(e);return{blob:await o.blob(),filename:'audio.webm'}}{const o=await n.readAsStringAsync(e,{encoding:n.EncodingType.Base64}),t=await fetch(`data:audio/mp3;base64,${o}`);return{blob:await t.blob(),filename:'audio.mp3'}}}catch(e){throw console.error('Failed to get audio blob:',e),e}},[]);return{isRecording:d,startRecording:A,stopRecording:b,getAudioBlob:p,permissionStatus:l?.status}};var e,o=r(_d[0],\"react\"),t=r(_d[1],\"expo-av\"),n=(function(e){if(e&&e.__esModule)return e;var o={};return e&&Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),o.default=e,o})(r(_d[2],\"expo-file-system\")),s=r(_d[3],\"react-native-web/dist/exports/Platform\"),c=(e=s)&&e.__esModule?e:{default:e}});","lineCount":1,"map":[[1,93,6,0,"_e"],[1,96,6,0,"useAudioRecording"],[1,114,6,7],[1,125,7,2],[1,131,7,9,"recording"],[1,133,7,20,"setRecording"],[1,137,7,36],[1,139,7,36,"useState"],[1,141,7,44,"useState"],[1,151,7,69],[1,158,8,9,"isRecording"],[1,160,8,22,"setIsRecording"],[1,164,8,40],[1,166,8,40,"useState"],[1,168,8,48,"useState"],[1,179,8,49],[1,183,9,9,"permissionResponse"],[1,185,9,29,"requestPermission"],[1,188,9,50,"Audio"],[1,190,9,55,"Audio"],[1,196,9,56,"usePermissions"],[1,214,11,2],[1,216,11,2,"useEffect"],[1,218,11,11,"useEffect"],[1,229,11,12],[1,233,12,11],[1,238,13,10,"recording"],[1,241,14,8,"recording"],[1,243,14,18,"stopAndUnloadAsync"],[1,264,14,39,"catch"],[1,270,14,45,"console"],[1,278,14,53,"error"],[1,286,17,5],[1,287,17,6,"recording"],[1,291,19,2],[1,297,19,8,"startRecording"],[1,300,19,25],[1,302,19,25,"useCallback"],[1,304,19,36,"useCallback"],[1,317,19,37,"async"],[1,327,20,4],[1,331,22,6],[1,334,22,41],[1,346,22,10,"permissionResponse"],[1,349,22,30,"status"],[1,356,22,52],[1,357,23,8,"console"],[1,365,23,16,"log"],[1,369,23,20],[1,408,25,8],[1,411,25,32],[1,430,24,31,"requestPermission"],[1,435,25,21,"status"],[1,442,26,10],[1,448,26,16],[1,452,26,20,"Error"],[1,458,26,26],[1,493,28,6],[1,494,31,6],[1,500,31,12,"audioMode"],[1,502,31,29],[1,503,32,8,"allowsRecordingIOS"],[1,523,32,28],[1,525,33,8,"playsInSilentModeIOS"],[1,547,33,30],[1,549,34,8,"staysActiveInBackground"],[1,574,34,33],[1,577,38,26],[1,589,38,10,"Platform"],[1,591,38,18,"default"],[1,599,38,19,"OS"],[1,603,38,39,"Audio"],[1,605,38,44,"Audio"],[1,611,38,45,"AndroidAudioUsage"],[1,631,39,8,"audioMode"],[1,633,39,18,"interruptionModeAndroid"],[1,657,39,44,"Audio"],[1,659,39,49,"Audio"],[1,665,39,50,"AndroidAudioUsage"],[1,683,39,68,"VOICE_COMMUNICATION"],[1,710,42,12,"Audio"],[1,712,42,17,"Audio"],[1,718,42,18,"setAudioModeAsync"],[1,736,42,36,"audioMode"],[1,739,45,6],[1,745,45,14,"recording"],[1,755,45,25,"newRecording"],[1,764,45,48,"Audio"],[1,766,45,53,"Audio"],[1,772,45,54,"Recording"],[1,782,45,64,"createAsync"],[1,794,46,8,"Audio"],[1,796,46,13,"Audio"],[1,802,46,14,"RecordingOptionsPresets"],[1,826,46,38,"HIGH_QUALITY"],[1,840,49,6,"setRecording"],[1,842,49,19,"newRecording"],[1,845,50,6,"setIsRecording"],[1,848,50,21],[1,850,51,4],[1,851,51,6],[1,857,51,13,"error"],[1,860,53,6],[1,866,52,6,"console"],[1,874,52,14,"error"],[1,880,52,20],[1,909,52,50,"error"],[1,912,53,12,"error"],[1,913,54,4],[1,916,55,5],[1,917,55,6,"permissionResponse"],[1,919,55,26,"requestPermission"],[1,923,57,8,"stopRecording"],[1,926,57,24],[1,928,57,24,"useCallback"],[1,930,57,35,"useCallback"],[1,943,57,36,"async"],[1,953,58,4],[1,957,58,9,"recording"],[1,959,59,6],[1,965,59,12],[1,969,59,16,"Error"],[1,975,59,22],[1,998,62,4],[1,1008,63,12,"recording"],[1,1010,63,22,"stopAndUnloadAsync"],[1,1031,64,6],[1,1037,64,12,"uri"],[1,1039,64,18,"recording"],[1,1041,64,28,"getURI"],[1,1050,69,6],[1,1057,66,6,"setRecording"],[1,1059,66,19],[1,1065,67,6,"setIsRecording"],[1,1068,67,21],[1,1071,69,13,"uri"],[1,1072,70,4],[1,1073,70,6],[1,1079,70,13,"error"],[1,1082,72,6],[1,1088,71,6,"console"],[1,1096,71,14,"error"],[1,1102,71,20],[1,1130,71,49,"error"],[1,1133,72,12,"error"],[1,1134,73,4],[1,1137,74,5],[1,1138,74,6,"recording"],[1,1142,76,8,"getAudioBlob"],[1,1145,76,23],[1,1147,76,23,"useCallback"],[1,1149,76,34,"useCallback"],[1,1162,76,35,"async"],[1,1172,77,4],[1,1176,78,6],[1,1179,78,26],[1,1187,78,10,"Platform"],[1,1189,78,18,"default"],[1,1197,78,19,"OS"],[1,1200,78,33],[1,1201,79,8],[1,1207,79,14,"response"],[1,1215,79,31,"fetch"],[1,1221,79,37,"uri"],[1,1224,81,8],[1,1230,81,15],[1,1231,81,17,"blob"],[1,1242,80,27,"response"],[1,1244,80,36,"blob"],[1,1251,81,23,"filename"],[1,1260,81,33],[1,1273,82,6],[1,1274,82,13],[1,1275,84,8],[1,1281,84,14,"base64"],[1,1289,84,29,"FileSystem"],[1,1291,84,40,"readAsStringAsync"],[1,1309,84,58,"uri"],[1,1311,84,63],[1,1312,85,10,"encoding"],[1,1321,85,20,"FileSystem"],[1,1323,85,31,"EncodingType"],[1,1336,85,44,"Base64"],[1,1345,89,14,"response"],[1,1353,89,31,"fetch"],[1,1359,89,37],[1,1384,89,62,"base64"],[1,1389,92,8],[1,1395,92,15],[1,1396,92,17,"blob"],[1,1407,90,27,"response"],[1,1409,90,36,"blob"],[1,1416,92,23,"filename"],[1,1425,92,33],[1,1437,93,6],[1,1438,94,4],[1,1439,94,6],[1,1445,94,13,"error"],[1,1448,96,6],[1,1454,95,6,"console"],[1,1462,95,14,"error"],[1,1468,95,20],[1,1496,95,49,"error"],[1,1499,96,12,"error"],[1,1500,97,4],[1,1503,98,5],[1,1507,100,2],[1,1513,100,9],[1,1514,101,4,"isRecording"],[1,1528,102,4,"startRecording"],[1,1545,103,4,"stopRecording"],[1,1561,104,4,"getAudioBlob"],[1,1576,105,4,"permissionStatus"],[1,1593,105,22,"permissionResponse"],[1,1596,105,42,"status"],[1,1603,107,0],[1,1605,1,0],[1,1609],[1,1611,1,0,"_react"],[1,1613,1,0,"r"],[1,1615,1,0,"_d"],[1,1618,1,0],[1,1630,2,0,"_expoAv"],[1,1632,2,0,"r"],[1,1634,2,0,"_d"],[1,1637,2,0],[1,1651,3,0,"FileSystem"],[1,1654],[1,1887,3,0,"_interopNamespace"],[1,1888,3,0,"r"],[1,1890,3,0,"_d"],[1,1893,3,0],[1,1917,3,47,"_reactNativeWebDistExportsPlatform"],[1,1919,3,47,"r"],[1,1921,3,47,"_d"],[1,1924,3,47],[1,1969,3,47,"Platform"],[1,1972],[1,1974,3,47,"_reactNativeWebDistExportsPlatform"],[1,1978],[1,2004,107,1],[1,2007]],"functionMap":{"names":["<global>","useAudioRecording","useEffect$argument_0","<anonymous>","startRecording","stopRecording","getAudioBlob"],"mappings":"AAA;OCK;YCK;WCC;KDI;GDC;qCGE;GHoC;oCIE;GJiB;mCKE;GLsB;CDS"},"hasCjsExports":false},"type":"js/module"}]}