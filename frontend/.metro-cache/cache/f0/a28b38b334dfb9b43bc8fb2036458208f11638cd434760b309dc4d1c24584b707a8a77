{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":32,"index":90}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useAudioPlayback = useAudioPlayback;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _expoAv = require(_dependencyMap[3], \"expo-av\");\n  function useAudioPlayback() {\n    _s();\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      sound = _useState2[0],\n      setSound = _useState2[1];\n    var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      isPlaying = _useState4[0],\n      setIsPlaying = _useState4[1];\n    (0, _react.useEffect)(() => {\n      return () => {\n        if (sound) {\n          sound.unloadAsync().catch(console.error);\n        }\n      };\n    }, [sound]);\n    var loadAndPlay = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (audioBlob) {\n        try {\n          // Unload previous sound\n          if (sound) {\n            yield sound.unloadAsync();\n          }\n\n          // Set audio mode for playback\n          yield _expoAv.Audio.setAudioModeAsync({\n            allowsRecordingIOS: false,\n            playsInSilentModeIOS: true,\n            staysActiveInBackground: false\n          });\n\n          // Create object URL from blob\n          var audioUrl = URL.createObjectURL(audioBlob);\n\n          // Load sound\n          var _yield$Audio$Sound$cr = yield _expoAv.Audio.Sound.createAsync({\n              uri: audioUrl\n            }, {\n              shouldPlay: true\n            }),\n            newSound = _yield$Audio$Sound$cr.sound;\n          setSound(newSound);\n          setIsPlaying(true);\n\n          // Set up playback status update\n          newSound.setOnPlaybackStatusUpdate(status => {\n            if (status.isLoaded && status.didJustFinish) {\n              setIsPlaying(false);\n            }\n          });\n        } catch (error) {\n          console.error('Error playing audio:', error);\n          throw error;\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), [sound]);\n    var stop = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      if (sound) {\n        yield sound.stopAsync();\n        setIsPlaying(false);\n      }\n    }), [sound]);\n    return {\n      isPlaying,\n      loadAndPlay,\n      stop\n    };\n  }\n  _s(useAudioPlayback, \"HipO8HXceWx2stthCku5GQkCLKQ=\");\n});","lineCount":93,"map":[[13,2,4,0,"exports"],[13,9,4,0],[13,10,4,0,"useAudioPlayback"],[13,26,4,0],[13,29,4,0,"useAudioPlayback"],[13,45,4,0],[14,2,66,1],[14,6,66,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,42,66,1],[14,45,66,1,"require"],[14,52,66,1],[14,53,66,1,"_dependencyMap"],[14,67,66,1],[15,2,66,1],[15,6,66,1,"_asyncToGenerator"],[15,23,66,1],[15,26,66,1,"_interopDefault"],[15,41,66,1],[15,42,66,1,"_babelRuntimeHelpersAsyncToGenerator"],[15,78,66,1],[16,2,66,1],[16,6,66,1,"_babelRuntimeHelpersSlicedToArray"],[16,39,66,1],[16,42,66,1,"require"],[16,49,66,1],[16,50,66,1,"_dependencyMap"],[16,64,66,1],[17,2,66,1],[17,6,66,1,"_slicedToArray"],[17,20,66,1],[17,23,66,1,"_interopDefault"],[17,38,66,1],[17,39,66,1,"_babelRuntimeHelpersSlicedToArray"],[17,72,66,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_expoAv"],[19,13,2,0],[19,16,2,0,"require"],[19,23,2,0],[19,24,2,0,"_dependencyMap"],[19,38,2,0],[20,2,4,7],[20,11,4,16,"useAudioPlayback"],[20,27,4,32,"useAudioPlayback"],[20,28,4,32],[20,30,4,35],[21,4,4,35,"_s"],[21,6,4,35],[22,4,5,2],[22,8,5,2,"_useState"],[22,17,5,2],[22,20,5,28],[22,24,5,28,"useState"],[22,30,5,36],[22,31,5,36,"useState"],[22,39,5,36],[22,41,5,57],[22,45,5,61],[22,46,5,62],[23,6,5,62,"_useState2"],[23,16,5,62],[23,23,5,62,"_slicedToArray"],[23,37,5,62],[23,38,5,62,"default"],[23,45,5,62],[23,47,5,62,"_useState"],[23,56,5,62],[24,6,5,9,"sound"],[24,11,5,14],[24,14,5,14,"_useState2"],[24,24,5,14],[25,6,5,16,"setSound"],[25,14,5,24],[25,17,5,24,"_useState2"],[25,27,5,24],[26,4,6,2],[26,8,6,2,"_useState3"],[26,18,6,2],[26,21,6,36],[26,25,6,36,"useState"],[26,31,6,44],[26,32,6,44,"useState"],[26,40,6,44],[26,42,6,45],[26,47,6,50],[26,48,6,51],[27,6,6,51,"_useState4"],[27,16,6,51],[27,23,6,51,"_slicedToArray"],[27,37,6,51],[27,38,6,51,"default"],[27,45,6,51],[27,47,6,51,"_useState3"],[27,57,6,51],[28,6,6,9,"isPlaying"],[28,15,6,18],[28,18,6,18,"_useState4"],[28,28,6,18],[29,6,6,20,"setIsPlaying"],[29,18,6,32],[29,21,6,32,"_useState4"],[29,31,6,32],[30,4,8,2],[30,8,8,2,"useEffect"],[30,14,8,11],[30,15,8,11,"useEffect"],[30,24,8,11],[30,26,8,12],[30,32,8,18],[31,6,9,4],[31,13,9,11],[31,19,9,17],[32,8,10,6],[32,12,10,10,"sound"],[32,17,10,15],[32,19,10,17],[33,10,11,8,"sound"],[33,15,11,13],[33,16,11,14,"unloadAsync"],[33,27,11,25],[33,28,11,26],[33,29,11,27],[33,30,11,28,"catch"],[33,35,11,33],[33,36,11,34,"console"],[33,43,11,41],[33,44,11,42,"error"],[33,49,11,47],[33,50,11,48],[34,8,12,6],[35,6,13,4],[35,7,13,5],[36,4,14,2],[36,5,14,3],[36,7,14,5],[36,8,14,6,"sound"],[36,13,14,11],[36,14,14,12],[36,15,14,13],[37,4,16,2],[37,8,16,8,"loadAndPlay"],[37,19,16,19],[37,22,16,22],[37,26,16,22,"useCallback"],[37,32,16,33],[37,33,16,33,"useCallback"],[37,44,16,33],[38,6,16,33],[38,10,16,33,"_ref"],[38,14,16,33],[38,21,16,33,"_asyncToGenerator"],[38,38,16,33],[38,39,16,33,"default"],[38,46,16,33],[38,48,16,34],[38,59,16,41,"audioBlob"],[38,68,16,56],[38,70,16,61],[39,8,17,4],[39,12,17,8],[40,10,18,6],[41,10,19,6],[41,14,19,10,"sound"],[41,19,19,15],[41,21,19,17],[42,12,20,8],[42,18,20,14,"sound"],[42,23,20,19],[42,24,20,20,"unloadAsync"],[42,35,20,31],[42,36,20,32],[42,37,20,33],[43,10,21,6],[45,10,23,6],[46,10,24,6],[46,16,24,12,"Audio"],[46,23,24,17],[46,24,24,17,"Audio"],[46,29,24,17],[46,30,24,18,"setAudioModeAsync"],[46,47,24,35],[46,48,24,36],[47,12,25,8,"allowsRecordingIOS"],[47,30,25,26],[47,32,25,28],[47,37,25,33],[48,12,26,8,"playsInSilentModeIOS"],[48,32,26,28],[48,34,26,30],[48,38,26,34],[49,12,27,8,"staysActiveInBackground"],[49,35,27,31],[49,37,27,33],[50,10,28,6],[50,11,28,7],[50,12,28,8],[52,10,30,6],[53,10,31,6],[53,14,31,12,"audioUrl"],[53,22,31,20],[53,25,31,23,"URL"],[53,28,31,26],[53,29,31,27,"createObjectURL"],[53,44,31,42],[53,45,31,43,"audioBlob"],[53,54,31,52],[53,55,31,53],[55,10,33,6],[56,10,34,6],[56,14,34,6,"_yield$Audio$Sound$cr"],[56,35,34,6],[56,44,34,40,"Audio"],[56,51,34,45],[56,52,34,45,"Audio"],[56,57,34,45],[56,58,34,46,"Sound"],[56,63,34,51],[56,64,34,52,"createAsync"],[56,75,34,63],[56,76,35,8],[57,14,35,10,"uri"],[57,17,35,13],[57,19,35,15,"audioUrl"],[58,12,35,24],[58,13,35,25],[58,15,36,8],[59,14,36,10,"shouldPlay"],[59,24,36,20],[59,26,36,22],[60,12,36,27],[60,13,37,6],[60,14,37,7],[61,12,34,21,"newSound"],[61,20,34,29],[61,23,34,29,"_yield$Audio$Sound$cr"],[61,44,34,29],[61,45,34,14,"sound"],[61,50,34,19],[62,10,39,6,"setSound"],[62,18,39,14],[62,19,39,15,"newSound"],[62,27,39,23],[62,28,39,24],[63,10,40,6,"setIsPlaying"],[63,22,40,18],[63,23,40,19],[63,27,40,23],[63,28,40,24],[65,10,42,6],[66,10,43,6,"newSound"],[66,18,43,14],[66,19,43,15,"setOnPlaybackStatusUpdate"],[66,44,43,40],[66,45,43,42,"status"],[66,51,43,48],[66,55,43,53],[67,12,44,8],[67,16,44,12,"status"],[67,22,44,18],[67,23,44,19,"isLoaded"],[67,31,44,27],[67,35,44,31,"status"],[67,41,44,37],[67,42,44,38,"didJustFinish"],[67,55,44,51],[67,57,44,53],[68,14,45,10,"setIsPlaying"],[68,26,45,22],[68,27,45,23],[68,32,45,28],[68,33,45,29],[69,12,46,8],[70,10,47,6],[70,11,47,7],[70,12,47,8],[71,8,48,4],[71,9,48,5],[71,10,48,6],[71,17,48,13,"error"],[71,22,48,18],[71,24,48,20],[72,10,49,6,"console"],[72,17,49,13],[72,18,49,14,"error"],[72,23,49,19],[72,24,49,20],[72,46,49,42],[72,48,49,44,"error"],[72,53,49,49],[72,54,49,50],[73,10,50,6],[73,16,50,12,"error"],[73,21,50,17],[74,8,51,4],[75,6,52,2],[75,7,52,3],[76,6,52,3],[76,23,52,3,"_x"],[76,25,52,3],[77,8,52,3],[77,15,52,3,"_ref"],[77,19,52,3],[77,20,52,3,"apply"],[77,25,52,3],[77,32,52,3,"arguments"],[77,41,52,3],[78,6,52,3],[79,4,52,3],[79,9,52,5],[79,10,52,6,"sound"],[79,15,52,11],[79,16,52,12],[79,17,52,13],[80,4,54,2],[80,8,54,8,"stop"],[80,12,54,12],[80,15,54,15],[80,19,54,15,"useCallback"],[80,25,54,26],[80,26,54,26,"useCallback"],[80,37,54,26],[80,56,54,26,"_asyncToGenerator"],[80,73,54,26],[80,74,54,26,"default"],[80,81,54,26],[80,83,54,27],[80,96,54,39],[81,6,55,4],[81,10,55,8,"sound"],[81,15,55,13],[81,17,55,15],[82,8,56,6],[82,14,56,12,"sound"],[82,19,56,17],[82,20,56,18,"stopAsync"],[82,29,56,27],[82,30,56,28],[82,31,56,29],[83,8,57,6,"setIsPlaying"],[83,20,57,18],[83,21,57,19],[83,26,57,24],[83,27,57,25],[84,6,58,4],[85,4,59,2],[85,5,59,3],[85,8,59,5],[85,9,59,6,"sound"],[85,14,59,11],[85,15,59,12],[85,16,59,13],[86,4,61,2],[86,11,61,9],[87,6,62,4,"isPlaying"],[87,15,62,13],[88,6,63,4,"loadAndPlay"],[88,17,63,15],[89,6,64,4,"stop"],[90,4,65,2],[90,5,65,3],[91,2,66,0],[92,2,66,1,"_s"],[92,4,66,1],[92,5,4,16,"useAudioPlayback"],[92,21,4,32],[93,0,4,32],[93,3]],"functionMap":{"names":["<global>","useAudioPlayback","useEffect$argument_0","<anonymous>","loadAndPlay","newSound.setOnPlaybackStatusUpdate$argument_0","stop"],"mappings":"AAA;OCG;YCI;WCC;KDI;GDC;kCGE;yCC2B;ODI;GHK;2BKE;GLK;CDO"},"hasCjsExports":false},"type":"js/module"}]}