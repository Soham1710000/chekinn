{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":32,"index":90}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useAudioPlayback = useAudioPlayback;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoAv = require(_dependencyMap[1], \"expo-av\");\n  function useAudioPlayback() {\n    const [sound, setSound] = (0, _react.useState)(null);\n    const [isPlaying, setIsPlaying] = (0, _react.useState)(false);\n    (0, _react.useEffect)(() => {\n      return () => {\n        if (sound) {\n          sound.unloadAsync().catch(console.error);\n        }\n      };\n    }, [sound]);\n    const loadAndPlay = (0, _react.useCallback)(async audioBlob => {\n      try {\n        // Unload previous sound\n        if (sound) {\n          await sound.unloadAsync();\n        }\n\n        // Set audio mode for playback\n        await _expoAv.Audio.setAudioModeAsync({\n          allowsRecordingIOS: false,\n          playsInSilentModeIOS: true,\n          staysActiveInBackground: false\n        });\n\n        // Create object URL from blob\n        const audioUrl = URL.createObjectURL(audioBlob);\n\n        // Load sound\n        const {\n          sound: newSound\n        } = await _expoAv.Audio.Sound.createAsync({\n          uri: audioUrl\n        }, {\n          shouldPlay: true\n        });\n        setSound(newSound);\n        setIsPlaying(true);\n\n        // Set up playback status update\n        newSound.setOnPlaybackStatusUpdate(status => {\n          if (status.isLoaded && status.didJustFinish) {\n            setIsPlaying(false);\n          }\n        });\n      } catch (error) {\n        console.error('Error playing audio:', error);\n        throw error;\n      }\n    }, [sound]);\n    const stop = (0, _react.useCallback)(async () => {\n      if (sound) {\n        await sound.stopAsync();\n        setIsPlaying(false);\n      }\n    }, [sound]);\n    return {\n      isPlaying,\n      loadAndPlay,\n      stop\n    };\n  }\n});","lineCount":71,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"useAudioPlayback"],[7,26,4,0],[7,29,4,0,"useAudioPlayback"],[7,45,4,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,2,0],[9,6,2,0,"_expoAv"],[9,13,2,0],[9,16,2,0,"require"],[9,23,2,0],[9,24,2,0,"_dependencyMap"],[9,38,2,0],[10,2,4,7],[10,11,4,16,"useAudioPlayback"],[10,27,4,32,"useAudioPlayback"],[10,28,4,32],[10,30,4,35],[11,4,5,2],[11,10,5,8],[11,11,5,9,"sound"],[11,16,5,14],[11,18,5,16,"setSound"],[11,26,5,24],[11,27,5,25],[11,30,5,28],[11,34,5,28,"useState"],[11,40,5,36],[11,41,5,36,"useState"],[11,49,5,36],[11,51,5,57],[11,55,5,61],[11,56,5,62],[12,4,6,2],[12,10,6,8],[12,11,6,9,"isPlaying"],[12,20,6,18],[12,22,6,20,"setIsPlaying"],[12,34,6,32],[12,35,6,33],[12,38,6,36],[12,42,6,36,"useState"],[12,48,6,44],[12,49,6,44,"useState"],[12,57,6,44],[12,59,6,45],[12,64,6,50],[12,65,6,51],[13,4,8,2],[13,8,8,2,"useEffect"],[13,14,8,11],[13,15,8,11,"useEffect"],[13,24,8,11],[13,26,8,12],[13,32,8,18],[14,6,9,4],[14,13,9,11],[14,19,9,17],[15,8,10,6],[15,12,10,10,"sound"],[15,17,10,15],[15,19,10,17],[16,10,11,8,"sound"],[16,15,11,13],[16,16,11,14,"unloadAsync"],[16,27,11,25],[16,28,11,26],[16,29,11,27],[16,30,11,28,"catch"],[16,35,11,33],[16,36,11,34,"console"],[16,43,11,41],[16,44,11,42,"error"],[16,49,11,47],[16,50,11,48],[17,8,12,6],[18,6,13,4],[18,7,13,5],[19,4,14,2],[19,5,14,3],[19,7,14,5],[19,8,14,6,"sound"],[19,13,14,11],[19,14,14,12],[19,15,14,13],[20,4,16,2],[20,10,16,8,"loadAndPlay"],[20,21,16,19],[20,24,16,22],[20,28,16,22,"useCallback"],[20,34,16,33],[20,35,16,33,"useCallback"],[20,46,16,33],[20,48,16,34],[20,54,16,41,"audioBlob"],[20,63,16,56],[20,67,16,61],[21,6,17,4],[21,10,17,8],[22,8,18,6],[23,8,19,6],[23,12,19,10,"sound"],[23,17,19,15],[23,19,19,17],[24,10,20,8],[24,16,20,14,"sound"],[24,21,20,19],[24,22,20,20,"unloadAsync"],[24,33,20,31],[24,34,20,32],[24,35,20,33],[25,8,21,6],[27,8,23,6],[28,8,24,6],[28,14,24,12,"Audio"],[28,21,24,17],[28,22,24,17,"Audio"],[28,27,24,17],[28,28,24,18,"setAudioModeAsync"],[28,45,24,35],[28,46,24,36],[29,10,25,8,"allowsRecordingIOS"],[29,28,25,26],[29,30,25,28],[29,35,25,33],[30,10,26,8,"playsInSilentModeIOS"],[30,30,26,28],[30,32,26,30],[30,36,26,34],[31,10,27,8,"staysActiveInBackground"],[31,33,27,31],[31,35,27,33],[32,8,28,6],[32,9,28,7],[32,10,28,8],[34,8,30,6],[35,8,31,6],[35,14,31,12,"audioUrl"],[35,22,31,20],[35,25,31,23,"URL"],[35,28,31,26],[35,29,31,27,"createObjectURL"],[35,44,31,42],[35,45,31,43,"audioBlob"],[35,54,31,52],[35,55,31,53],[37,8,33,6],[38,8,34,6],[38,14,34,12],[39,10,34,14,"sound"],[39,15,34,19],[39,17,34,21,"newSound"],[40,8,34,30],[40,9,34,31],[40,12,34,34],[40,18,34,40,"Audio"],[40,25,34,45],[40,26,34,45,"Audio"],[40,31,34,45],[40,32,34,46,"Sound"],[40,37,34,51],[40,38,34,52,"createAsync"],[40,49,34,63],[40,50,35,8],[41,10,35,10,"uri"],[41,13,35,13],[41,15,35,15,"audioUrl"],[42,8,35,24],[42,9,35,25],[42,11,36,8],[43,10,36,10,"shouldPlay"],[43,20,36,20],[43,22,36,22],[44,8,36,27],[44,9,37,6],[44,10,37,7],[45,8,39,6,"setSound"],[45,16,39,14],[45,17,39,15,"newSound"],[45,25,39,23],[45,26,39,24],[46,8,40,6,"setIsPlaying"],[46,20,40,18],[46,21,40,19],[46,25,40,23],[46,26,40,24],[48,8,42,6],[49,8,43,6,"newSound"],[49,16,43,14],[49,17,43,15,"setOnPlaybackStatusUpdate"],[49,42,43,40],[49,43,43,42,"status"],[49,49,43,48],[49,53,43,53],[50,10,44,8],[50,14,44,12,"status"],[50,20,44,18],[50,21,44,19,"isLoaded"],[50,29,44,27],[50,33,44,31,"status"],[50,39,44,37],[50,40,44,38,"didJustFinish"],[50,53,44,51],[50,55,44,53],[51,12,45,10,"setIsPlaying"],[51,24,45,22],[51,25,45,23],[51,30,45,28],[51,31,45,29],[52,10,46,8],[53,8,47,6],[53,9,47,7],[53,10,47,8],[54,6,48,4],[54,7,48,5],[54,8,48,6],[54,15,48,13,"error"],[54,20,48,18],[54,22,48,20],[55,8,49,6,"console"],[55,15,49,13],[55,16,49,14,"error"],[55,21,49,19],[55,22,49,20],[55,44,49,42],[55,46,49,44,"error"],[55,51,49,49],[55,52,49,50],[56,8,50,6],[56,14,50,12,"error"],[56,19,50,17],[57,6,51,4],[58,4,52,2],[58,5,52,3],[58,7,52,5],[58,8,52,6,"sound"],[58,13,52,11],[58,14,52,12],[58,15,52,13],[59,4,54,2],[59,10,54,8,"stop"],[59,14,54,12],[59,17,54,15],[59,21,54,15,"useCallback"],[59,27,54,26],[59,28,54,26,"useCallback"],[59,39,54,26],[59,41,54,27],[59,53,54,39],[60,6,55,4],[60,10,55,8,"sound"],[60,15,55,13],[60,17,55,15],[61,8,56,6],[61,14,56,12,"sound"],[61,19,56,17],[61,20,56,18,"stopAsync"],[61,29,56,27],[61,30,56,28],[61,31,56,29],[62,8,57,6,"setIsPlaying"],[62,20,57,18],[62,21,57,19],[62,26,57,24],[62,27,57,25],[63,6,58,4],[64,4,59,2],[64,5,59,3],[64,7,59,5],[64,8,59,6,"sound"],[64,13,59,11],[64,14,59,12],[64,15,59,13],[65,4,61,2],[65,11,61,9],[66,6,62,4,"isPlaying"],[66,15,62,13],[67,6,63,4,"loadAndPlay"],[67,17,63,15],[68,6,64,4,"stop"],[69,4,65,2],[69,5,65,3],[70,2,66,0],[71,0,66,1],[71,3]],"functionMap":{"names":["<global>","useAudioPlayback","useEffect$argument_0","<anonymous>","loadAndPlay","newSound.setOnPlaybackStatusUpdate$argument_0","stop"],"mappings":"AAA;OCG;YCI;WCC;KDI;GDC;kCGE;yCC2B;ODI;GHK;2BKE;GLK;CDO"},"hasCjsExports":false},"type":"js/module"}]}