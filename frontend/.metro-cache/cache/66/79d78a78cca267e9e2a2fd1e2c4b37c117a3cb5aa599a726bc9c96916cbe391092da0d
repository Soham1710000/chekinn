{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":72,"index":72}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TextInput","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"DmXc1F5dPYWntVgqRwh73w0VngA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/TouchableOpacity","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PnQOoa8QGKpV5+issz6ikk463eg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/KeyboardAvoidingView","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kFCo14D1kTbuTr2oaN22xX743Ns=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Alert","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"PEUC6jrQVoAGZ2qYkvimljMOyJI=","exportNames":["*"],"imports":1}},{"name":"react-native-safe-area-context","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":239},"end":{"line":14,"column":62,"index":301}}],"key":"XjdTKvCUWX6CbQzg5fSDHG/WgHk=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":15,"column":0,"index":302},"end":{"line":15,"column":37,"index":339}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@expo/vector-icons","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":16,"column":0,"index":340},"end":{"line":16,"column":46,"index":386}}],"key":"ow7vkrqkIckRjlSi/+MhMmRYtUE=","exportNames":["*"],"imports":1}},{"name":"@shopify/flash-list","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":17,"column":0,"index":387},"end":{"line":17,"column":48,"index":435}}],"key":"VMuw851tvEnbTVlfo1dcTjI+CoA=","exportNames":["*"],"imports":1}},{"name":"../store/userStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":436},"end":{"line":18,"column":50,"index":486}}],"key":"IgQi61grymUjzhOUT2rUJCaLs54=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":487},"end":{"line":19,"column":45,"index":532}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../hooks/useAudioRecording","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":20,"column":0,"index":533},"end":{"line":20,"column":63,"index":596}}],"key":"Kie4h54rNDwdRXXNUCqN1UvH8oA=","exportNames":["*"],"imports":1}},{"name":"../hooks/useAudioPlayback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":21,"column":0,"index":597},"end":{"line":21,"column":61,"index":658}}],"key":"iBPYFZuHZrEijDn9PG0o2J4pcbg=","exportNames":["*"],"imports":1}},{"name":"../components/MicButton","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":22,"column":0,"index":659},"end":{"line":22,"column":52,"index":711}}],"key":"C1T+dfKg7dhvfQI2Og7svXzhnRU=","exportNames":["*"],"imports":1}},{"name":"../components/ChatBubble","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":23,"column":0,"index":712},"end":{"line":23,"column":54,"index":766}}],"key":"D24tzd03+Yhnby07twZSA7BDY/Q=","exportNames":["*"],"imports":1}},{"name":"../components/TrackSelector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":24,"column":0,"index":767},"end":{"line":24,"column":60,"index":827}}],"key":"qswQqtw2mtYt7m8IllZFC49wc9A=","exportNames":["*"],"imports":1}},{"name":"../components/LoadingOverlay","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":25,"column":0,"index":828},"end":{"line":25,"column":62,"index":890}}],"key":"FjD2LkzZiwt1m9UKWRUE1V1VP+c=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,_m,_e,d){\"use strict\";var e=\"/app/frontend/app/index-backup.tsx\",t=$RefreshSig$();function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return k}});var n=r(d[0],\"react\"),l=o(r(d[1],\"react-native-web/dist/exports/View\")),s=o(r(d[2],\"react-native-web/dist/exports/Text\")),u=o(r(d[3],\"react-native-web/dist/exports/TextInput\")),c=o(r(d[4],\"react-native-web/dist/exports/TouchableOpacity\")),m=o(r(d[5],\"react-native-web/dist/exports/StyleSheet\")),f=o(r(d[6],\"react-native-web/dist/exports/KeyboardAvoidingView\")),h=o(r(d[7],\"react-native-web/dist/exports/Platform\")),b=o(r(d[8],\"react-native-web/dist/exports/Alert\")),N=r(d[9],\"react-native-safe-area-context\"),p=r(d[10],\"expo-router\"),y=r(d[11],\"@expo/vector-icons\"),x=r(d[12],\"@shopify/flash-list\"),v=r(d[13],\"../store/userStore\"),E=r(d[14],\"../services/api\"),S=r(d[15],\"../hooks/useAudioRecording\"),C=r(d[16],\"../hooks/useAudioPlayback\"),T=r(d[17],\"../components/MicButton\"),V=r(d[18],\"../components/ChatBubble\"),j=r(d[19],\"../components/TrackSelector\"),D=r(d[20],\"../components/LoadingOverlay\"),w=r(d[21],\"react/jsx-dev-runtime\");function k(){t();const o=(0,v.useUserStore)(e=>e.user),[m,k]=(0,n.useState)([]),[A,B]=(0,n.useState)(''),[P,I]=(0,n.useState)(!1),[R,z]=(0,n.useState)(''),[L,O]=(0,n.useState)(!1),[_,W]=(0,n.useState)(null),M=(0,n.useRef)(null),{isRecording:H,startRecording:$,stopRecording:J,getAudioBlob:K,permissionStatus:U}=(0,S.useAudioRecording)(),{isPlaying:G,loadAndPlay:Q}=(0,C.useAudioPlayback)();(0,n.useEffect)(()=>{const e=setTimeout(()=>{o||p.router.replace('/onboarding')},500);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{o&&Y()},[o]),(0,n.useEffect)(()=>{!o||0!==m.length||_||L||setTimeout(()=>O(!0),1e3)},[o,m.length,_]);const Y=async()=>{if(o)try{const e=await E.apiService.getChatHistory(o.id);k(e);const t=e.reverse().find(e=>e.track)?.track;t&&W(t)}catch(e){console.error('Failed to load chat history:',e)}},Z=async(e,t=!1,n)=>{if(!o||!e.trim())return;const l={id:Date.now().toString(),conversation_id:'',role:'user',text:e.trim(),is_voice:t,audio_duration:n,has_audio_response:!1,created_at:(new Date).toISOString()};k(e=>[...e,l]),B(''),setTimeout(()=>{M.current?.scrollToEnd({animated:!0})},100),I(!0),z('Thinking...');try{const l=await E.apiService.sendMessage(o.id,e.trim(),t,n);k(e=>[...e,l]),setTimeout(()=>{M.current?.scrollToEnd({animated:!0})},100)}catch(e){console.error('Failed to send message:',e),b.default.alert('Error','Failed to send message. Please try again.')}finally{I(!1),z('')}},q=async e=>{const t=m.find(t=>t.id===e);if(t)try{I(!0),z('Generating speech...');const e=await E.apiService.synthesizeSpeech(t.text);await Q(e)}catch(e){console.error('TTS error:',e),b.default.alert('Error','Failed to play audio. Please try again.')}finally{I(!1)}};return o?(0,w.jsxDEV)(N.SafeAreaView,{style:F.container,edges:['bottom'],children:[(0,w.jsxDEV)(f.default,{style:F.keyboardView,behavior:'ios'===h.default.OS?'padding':void 0,keyboardVerticalOffset:'ios'===h.default.OS?90:0,children:[(0,w.jsxDEV)(l.default,{style:F.header,children:[(0,w.jsxDEV)(s.default,{style:F.headerTitle,children:\"Chekinn\"},void 0,!1,{fileName:e,lineNumber:226,columnNumber:11},this),(0,w.jsxDEV)(l.default,{style:F.headerButtons,children:[(0,w.jsxDEV)(c.default,{onPress:()=>p.router.push('/intros'),style:F.headerButton,children:(0,w.jsxDEV)(y.Ionicons,{name:\"people-outline\",size:24,color:\"#2C3E50\"},void 0,!1,{fileName:e,lineNumber:232,columnNumber:15},this)},void 0,!1,{fileName:e,lineNumber:228,columnNumber:13},this),(0,w.jsxDEV)(c.default,{onPress:()=>p.router.push('/profile'),style:F.headerButton,children:(0,w.jsxDEV)(y.Ionicons,{name:\"person-outline\",size:24,color:\"#2C3E50\"},void 0,!1,{fileName:e,lineNumber:238,columnNumber:15},this)},void 0,!1,{fileName:e,lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:e,lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:e,lineNumber:225,columnNumber:9},this),L&&(0,w.jsxDEV)(l.default,{style:F.trackSelectorOverlay,children:(0,w.jsxDEV)(l.default,{style:F.trackSelectorCard,children:(0,w.jsxDEV)(j.TrackSelector,{selectedTrack:_,onSelectTrack:async e=>{if(o){W(e),O(!1);try{await E.apiService.selectTrack(o.id,e)}catch(e){console.error('Failed to set track:',e)}}}},void 0,!1,{fileName:e,lineNumber:247,columnNumber:15},this)},void 0,!1,{fileName:e,lineNumber:246,columnNumber:13},this)},void 0,!1,{fileName:e,lineNumber:245,columnNumber:11},this),(0,w.jsxDEV)(l.default,{style:F.messagesContainer,children:0===m.length?(0,w.jsxDEV)(l.default,{style:F.emptyState,children:[(0,w.jsxDEV)(s.default,{style:F.emptyTitle,children:[\"Hey \",o.name]},void 0,!0,{fileName:e,lineNumber:259,columnNumber:15},this),(0,w.jsxDEV)(s.default,{style:F.emptySubtitle,children:_?\"I've got you. What's on your mind?\":\"What brings you here?\"},void 0,!1,{fileName:e,lineNumber:260,columnNumber:15},this),!_&&(0,w.jsxDEV)(c.default,{style:F.startButton,onPress:()=>O(!0),activeOpacity:.7,children:(0,w.jsxDEV)(s.default,{style:F.startButtonText,children:\"Let's talk\"},void 0,!1,{fileName:e,lineNumber:271,columnNumber:19},this)},void 0,!1,{fileName:e,lineNumber:266,columnNumber:17},this)]},void 0,!0,{fileName:e,lineNumber:258,columnNumber:13},this):(0,w.jsxDEV)(x.FlashList,{ref:M,data:m,renderItem:({item:t})=>(0,w.jsxDEV)(V.ChatBubble,{message:t,onPlayAudio:q},void 0,!1,{fileName:e,lineNumber:282,columnNumber:17},this),estimatedItemSize:100,keyExtractor:e=>e.id,contentContainerStyle:F.messagesList},void 0,!1,{fileName:e,lineNumber:278,columnNumber:13},this)},void 0,!1,{fileName:e,lineNumber:256,columnNumber:9},this),(0,w.jsxDEV)(l.default,{style:F.inputContainer,children:[(0,w.jsxDEV)(l.default,{style:F.textInputContainer,children:[(0,w.jsxDEV)(u.default,{style:F.textInput,value:A,onChangeText:B,placeholder:\"Type a message...\",placeholderTextColor:\"#95A5A6\",multiline:!0,maxLength:500,editable:!P&&!H},void 0,!1,{fileName:e,lineNumber:295,columnNumber:13},this),(0,w.jsxDEV)(c.default,{onPress:()=>{A.trim()&&Z(A,!1)},disabled:!A.trim()||P||H,style:F.sendButton,children:(0,w.jsxDEV)(y.Ionicons,{name:\"send\",size:24,color:!A.trim()||P||H?'#BDC3C7':'#4A90E2'},void 0,!1,{fileName:e,lineNumber:310,columnNumber:15},this)},void 0,!1,{fileName:e,lineNumber:305,columnNumber:13},this)]},void 0,!0,{fileName:e,lineNumber:294,columnNumber:11},this),(0,w.jsxDEV)(l.default,{style:F.micContainer,children:[(0,w.jsxDEV)(T.MicButton,{isRecording:H,onPress:async()=>{if(H){I(!0),z('Transcribing...');try{const e=await J();if(!e)throw new Error('No audio recorded');const{blob:t,filename:o}=await K(e),n=await E.apiService.transcribeAudio(t,o);n.success&&n.text?await Z(n.text,!0,n.duration):(b.default.alert('Error','Failed to transcribe audio. Please try again.'),I(!1))}catch(e){console.error('Transcription error:',e),b.default.alert('Error','Failed to process audio. Please try again.'),I(!1)}}else try{'granted'!==U&&b.default.alert('Microphone Permission','Chekinn needs access to your microphone to record voice notes.',[{text:'OK'}]),await $()}catch(e){console.error('Recording error:',e),b.default.alert('Error','Failed to start recording. Please check microphone permissions.')}},disabled:P&&!H},void 0,!1,{fileName:e,lineNumber:320,columnNumber:13},this),H&&(0,w.jsxDEV)(s.default,{style:F.recordingText,children:\"Listening...\"},void 0,!1,{fileName:e,lineNumber:326,columnNumber:15},this)]},void 0,!0,{fileName:e,lineNumber:319,columnNumber:11},this),!H&&0===m.length&&(0,w.jsxDEV)(s.default,{style:F.hintText,children:\"You can speak or type\\u2014whatever feels easier\"},void 0,!1,{fileName:e,lineNumber:332,columnNumber:13},this)]},void 0,!0,{fileName:e,lineNumber:292,columnNumber:9},this)]},void 0,!0,{fileName:e,lineNumber:219,columnNumber:7},this),(0,w.jsxDEV)(D.LoadingOverlay,{visible:P&&!H,message:R},void 0,!1,{fileName:e,lineNumber:339,columnNumber:7},this)]},void 0,!0,{fileName:e,lineNumber:218,columnNumber:5},this):(0,w.jsxDEV)(l.default,{style:F.loadingContainer,children:(0,w.jsxDEV)(s.default,{children:\"Loading...\"},void 0,!1,{fileName:e,lineNumber:212,columnNumber:9},this)},void 0,!1,{fileName:e,lineNumber:211,columnNumber:7},this)}t(k,\"LQeCTiFBinMcuLZJLM5F/BRwOJ4=\",!1,function(){return[v.useUserStore,S.useAudioRecording,C.useAudioPlayback]}),A=k;const F=m.default.create({container:{flex:1,backgroundColor:'#FFFFFF'},loadingContainer:{flex:1,alignItems:'center',justifyContent:'center'},keyboardView:{flex:1},header:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',padding:16,borderBottomWidth:1,borderBottomColor:'#E0E0E0'},headerTitle:{fontSize:20,fontWeight:'700',color:'#2C3E50'},headerButtons:{flexDirection:'row'},headerButton:{marginLeft:16},trackSelectorOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.5)',zIndex:1e3,alignItems:'center',justifyContent:'center'},trackSelectorCard:{backgroundColor:'#FFFFFF',borderRadius:16,width:'90%',maxWidth:400},messagesContainer:{flex:1},messagesList:{paddingVertical:16},emptyState:{flex:1,alignItems:'center',justifyContent:'center',padding:32},emptyTitle:{fontSize:24,fontWeight:'600',color:'#2C3E50',marginTop:16},emptySubtitle:{fontSize:16,color:'#7F8C8D',textAlign:'center',marginTop:8,lineHeight:22},startButton:{backgroundColor:'#4A90E2',paddingHorizontal:24,paddingVertical:12,borderRadius:8,marginTop:24},startButtonText:{color:'#FFFFFF',fontSize:16,fontWeight:'600'},inputContainer:{padding:16,borderTopWidth:1,borderTopColor:'#E0E0E0'},textInputContainer:{flexDirection:'row',alignItems:'flex-end',backgroundColor:'#F8F9FA',borderRadius:24,paddingHorizontal:16,paddingVertical:8,marginBottom:12},textInput:{flex:1,fontSize:16,color:'#2C3E50',maxHeight:100},sendButton:{marginLeft:8,padding:4},micContainer:{alignItems:'center'},recordingText:{marginTop:8,fontSize:14,color:'#E74C3C',fontWeight:'600'},hintText:{fontSize:12,color:'#95A5A6',textAlign:'center',marginTop:8}});var A;$RefreshReg$(A,\"ChatScreen\")});","lineCount":1,"map":[[1,204,29,15,"Object"],[1,211,29,15,"defineProperty"],[1,226,29,15,"_e"],[1,229,29,15],[1,240,29,15,"enumerable"],[1,252,29,15],[1,254,29,15,"get"],[1,258,29,15],[1,276,29,15,"ChatScreen"],[1,277,29,15],[1,281,1,0],[1,285,1,0,"_react"],[1,287,1,0,"r"],[1,289,1,0,"d"],[1,291,1,0],[1,303,1,72,"View"],[1,305,1,72,"_interopDefault"],[1,307,1,72,"r"],[1,309,1,72,"d"],[1,311,1,72],[1,353,1,72,"Text"],[1,355,1,72,"_interopDefault"],[1,357,1,72,"r"],[1,359,1,72,"d"],[1,361,1,72],[1,403,1,72,"TextInput"],[1,405,1,72,"_interopDefault"],[1,407,1,72,"r"],[1,409,1,72,"d"],[1,411,1,72],[1,458,1,72,"TouchableOpacity"],[1,460,1,72,"_interopDefault"],[1,462,1,72,"r"],[1,464,1,72,"d"],[1,466,1,72],[1,520,1,72,"StyleSheet"],[1,522,1,72,"_interopDefault"],[1,524,1,72,"r"],[1,526,1,72,"d"],[1,528,1,72],[1,576,1,72,"KeyboardAvoidingView"],[1,578,1,72,"_interopDefault"],[1,580,1,72,"r"],[1,582,1,72,"d"],[1,584,1,72],[1,642,1,72,"Platform"],[1,644,1,72,"_interopDefault"],[1,646,1,72,"r"],[1,648,1,72,"d"],[1,650,1,72],[1,696,1,72,"Alert"],[1,698,1,72,"_interopDefault"],[1,700,1,72,"r"],[1,702,1,72,"d"],[1,704,1,72],[1,747,14,0,"_reactNativeSafeAreaContext"],[1,749,14,0,"r"],[1,751,14,0,"d"],[1,753,14,0],[1,790,15,0,"_expoRouter"],[1,792,15,0,"r"],[1,794,15,0,"d"],[1,796,15,0],[1,815,16,0,"_expoVectorIcons"],[1,817,16,0,"r"],[1,819,16,0,"d"],[1,821,16,0],[1,847,17,0,"_shopifyFlashList"],[1,849,17,0,"r"],[1,851,17,0,"d"],[1,853,17,0],[1,880,18,0,"_storeUserStore"],[1,882,18,0,"r"],[1,884,18,0,"d"],[1,886,18,0],[1,912,19,0,"_servicesApi"],[1,914,19,0,"r"],[1,916,19,0,"d"],[1,918,19,0],[1,941,20,0,"_hooksUseAudioRecording"],[1,943,20,0,"r"],[1,945,20,0,"d"],[1,947,20,0],[1,981,21,0,"_hooksUseAudioPlayback"],[1,983,21,0,"r"],[1,985,21,0,"d"],[1,987,21,0],[1,1020,22,0,"_componentsMicButton"],[1,1022,22,0,"r"],[1,1024,22,0,"d"],[1,1026,22,0],[1,1057,23,0,"_componentsChatBubble"],[1,1059,23,0,"r"],[1,1061,23,0,"d"],[1,1063,23,0],[1,1095,24,0,"_componentsTrackSelector"],[1,1097,24,0,"r"],[1,1099,24,0,"d"],[1,1101,24,0],[1,1136,25,0,"_componentsLoadingOverlay"],[1,1138,25,0,"r"],[1,1140,25,0,"d"],[1,1142,25,0],[1,1178,25,62,"_reactJsxDevRuntime"],[1,1180,25,62,"r"],[1,1182,25,62,"d"],[1,1184,25,62],[1,1213,29,15],[1,1222,29,24,"ChatScreen"],[1,1226,29,37,"_s"],[1,1230,30,2],[1,1236,30,8,"user"],[1,1239,30,15],[1,1241,30,15,"useUserStore"],[1,1243,30,27,"useUserStore"],[1,1257,30,29,"state"],[1,1260,30,39,"state"],[1,1262,30,45,"user"],[1,1269,31,9,"messages"],[1,1271,31,19,"setMessages"],[1,1275,31,34],[1,1277,31,34,"useState"],[1,1279,31,42,"useState"],[1,1289,31,54],[1,1294,32,9,"inputText"],[1,1296,32,20,"setInputText"],[1,1300,32,36],[1,1302,32,36,"useState"],[1,1304,32,44,"useState"],[1,1314,32,45],[1,1319,33,9,"loading"],[1,1321,33,18,"setLoading"],[1,1325,33,32],[1,1327,33,32,"useState"],[1,1329,33,40,"useState"],[1,1340,33,41],[1,1344,34,9,"loadingMessage"],[1,1346,34,25,"setLoadingMessage"],[1,1350,34,46],[1,1352,34,46,"useState"],[1,1354,34,54,"useState"],[1,1364,34,55],[1,1369,35,9,"showTrackSelector"],[1,1371,35,28,"setShowTrackSelector"],[1,1375,35,52],[1,1377,35,52,"useState"],[1,1379,35,60,"useState"],[1,1390,35,61],[1,1394,36,9,"selectedTrack"],[1,1396,36,24,"setSelectedTrack"],[1,1400,36,44],[1,1402,36,44,"useState"],[1,1404,36,52,"useState"],[1,1414,36,68],[1,1420,38,8,"flashListRef"],[1,1423,38,23],[1,1425,38,23,"useRef"],[1,1427,38,29,"useRef"],[1,1435,38,50],[1,1442,39,8,"isRecording"],[1,1454,39,10,"isRecording"],[1,1456,39,21,"startRecording"],[1,1471,39,23,"startRecording"],[1,1473,39,37,"stopRecording"],[1,1487,39,39,"stopRecording"],[1,1489,39,52,"getAudioBlob"],[1,1502,39,54,"getAudioBlob"],[1,1504,39,66,"permissionStatus"],[1,1521,39,68,"permissionStatus"],[1,1525,39,89],[1,1527,39,89,"useAudioRecording"],[1,1529,39,106,"useAudioRecording"],[1,1551,40,8,"isPlaying"],[1,1561,40,10,"isPlaying"],[1,1563,40,19,"loadAndPlay"],[1,1575,40,21,"loadAndPlay"],[1,1579,40,37],[1,1581,40,37,"useAudioPlayback"],[1,1583,40,53,"useAudioPlayback"],[1,1604,43,2],[1,1606,43,2,"useEffect"],[1,1608,43,11,"useEffect"],[1,1619,43,12],[1,1624,45,4],[1,1630,45,10,"timer"],[1,1632,45,18,"setTimeout"],[1,1643,45,29],[1,1648,46,11,"user"],[1,1651,47,8,"router"],[1,1653,47,14,"router"],[1,1660,47,15,"replace"],[1,1668,47,23],[1,1684,49,7],[1,1689,50,4],[1,1695,50,11],[1,1699,50,17,"clearTimeout"],[1,1712,50,30,"timer"],[1,1716,51,5],[1,1721,54,2],[1,1723,54,2,"useEffect"],[1,1725,54,11,"useEffect"],[1,1736,54,12],[1,1741,55,8,"user"],[1,1744,56,6,"loadChatHistory"],[1,1749,58,5],[1,1750,58,6,"user"],[1,1755,61,2],[1,1757,61,2,"useEffect"],[1,1759,61,11,"useEffect"],[1,1770,61,12],[1,1776,62,8,"user"],[1,1779,62,36],[1,1783,62,16,"messages"],[1,1785,62,25,"length"],[1,1793,62,42,"selectedTrack"],[1,1796,62,60,"showTrackSelector"],[1,1799,64,6,"setTimeout"],[1,1810,64,17],[1,1814,64,23,"setShowTrackSelector"],[1,1817,64,44],[1,1820,64,51],[1,1826,66,5],[1,1827,66,6,"user"],[1,1829,66,12,"messages"],[1,1831,66,21,"length"],[1,1838,66,29,"selectedTrack"],[1,1842,68,2],[1,1848,68,8,"loadChatHistory"],[1,1850,68,26,"async"],[1,1860,69,4],[1,1863,69,9,"user"],[1,1865,71,4],[1,1869,72,6],[1,1875,72,12,"history"],[1,1883,72,28,"apiService"],[1,1885,72,38,"apiService"],[1,1896,72,39,"getChatHistory"],[1,1911,72,54,"user"],[1,1913,72,59,"id"],[1,1917,73,6,"setMessages"],[1,1919,73,18,"history"],[1,1922,76,6],[1,1928,76,12,"lastTrack"],[1,1930,76,24,"history"],[1,1932,76,32,"reverse"],[1,1942,76,42,"find"],[1,1947,76,47,"m"],[1,1950,76,52,"m"],[1,1952,76,54,"track"],[1,1960,76,62,"track"],[1,1966,77,10,"lastTrack"],[1,1969,78,8,"setSelectedTrack"],[1,1971,78,25,"lastTrack"],[1,1973,80,4],[1,1974,80,6],[1,1980,80,13,"error"],[1,1983,81,6,"console"],[1,1991,81,14,"error"],[1,1997,81,20],[1,2028,81,52,"error"],[1,2030,82,4],[1,2033,98,8,"handleSendMessage"],[1,2035,98,28,"async"],[1,2041,98,35,"text"],[1,2043,98,49,"isVoice"],[1,2046,98,68],[1,2048,98,75,"audioDuration"],[1,2053,99,4],[1,2057,99,9,"user"],[1,2061,99,18,"text"],[1,2063,99,23,"trim"],[1,2070,99,31],[1,2077,101,4],[1,2083,101,10,"userMessage"],[1,2085,101,33],[1,2086,102,6,"id"],[1,2089,102,10,"Date"],[1,2094,102,15,"now"],[1,2100,102,21,"toString"],[1,2111,103,6,"conversation_id"],[1,2127,103,23],[1,2130,104,6,"role"],[1,2135,104,12],[1,2142,105,6,"text"],[1,2147,105,12,"text"],[1,2149,105,17,"trim"],[1,2156,106,6,"is_voice"],[1,2165,106,16,"isVoice"],[1,2167,107,6,"audio_duration"],[1,2182,107,22,"audioDuration"],[1,2184,108,6,"has_audio_response"],[1,2204,108,26],[1,2206,109,6,"created_at"],[1,2218,109,18],[1,2222,109,22,"Date"],[1,2228,109,29,"toISOString"],[1,2243,112,4,"setMessages"],[1,2245,112,17,"prev"],[1,2248,112,26],[1,2252,112,30,"prev"],[1,2254,112,36,"userMessage"],[1,2258,113,4,"setInputText"],[1,2260,113,17],[1,2264,116,4,"setTimeout"],[1,2275,116,15],[1,2280,117,6,"flashListRef"],[1,2282,117,19,"current"],[1,2291,117,28,"scrollToEnd"],[1,2303,117,40],[1,2304,117,42,"animated"],[1,2314,117,52],[1,2319,118,7],[1,2324,120,4,"setLoading"],[1,2327,120,15],[1,2330,121,4,"setLoadingMessage"],[1,2332,121,22],[1,2347,123,4],[1,2351,124,6],[1,2357,124,12,"response"],[1,2365,124,29,"apiService"],[1,2367,124,39,"apiService"],[1,2378,124,40,"sendMessage"],[1,2390,124,52,"user"],[1,2392,124,57,"id"],[1,2395,124,61,"text"],[1,2397,124,66,"trim"],[1,2404,124,74,"isVoice"],[1,2406,124,83,"audioDuration"],[1,2409,125,6,"setMessages"],[1,2411,125,19,"prev"],[1,2414,125,28],[1,2418,125,32,"prev"],[1,2420,125,38,"response"],[1,2424,128,6,"setTimeout"],[1,2435,128,17],[1,2440,129,8,"flashListRef"],[1,2442,129,21,"current"],[1,2451,129,30,"scrollToEnd"],[1,2463,129,42],[1,2464,129,44,"animated"],[1,2474,129,54],[1,2479,130,9],[1,2483,131,4],[1,2484,131,6],[1,2490,131,13,"error"],[1,2493,132,6,"console"],[1,2501,132,14,"error"],[1,2507,132,20],[1,2533,132,47,"error"],[1,2536,133,6,"Alert"],[1,2538,133,11,"default"],[1,2546,133,12,"alert"],[1,2552,133,18],[1,2560,133,27],[1,2604,134,4],[1,2605,134,5],[1,2613,135,6,"setLoading"],[1,2616,135,17],[1,2619,136,6,"setLoadingMessage"],[1,2621,136,24],[1,2624,137,4],[1,2627,191,8,"handlePlayAudio"],[1,2629,191,26,"async"],[1,2639,192,4],[1,2645,192,10,"message"],[1,2647,192,20,"messages"],[1,2649,192,29,"find"],[1,2654,192,35,"m"],[1,2657,192,41,"m"],[1,2659,192,43,"id"],[1,2664,192,50,"messageId"],[1,2667,193,4],[1,2670,193,9,"message"],[1,2672,195,4],[1,2676,196,6,"setLoading"],[1,2679,196,17],[1,2682,197,6,"setLoadingMessage"],[1,2684,197,24],[1,2708,199,6],[1,2714,199,12,"audioBlob"],[1,2722,199,30,"apiService"],[1,2724,199,40,"apiService"],[1,2735,199,41,"synthesizeSpeech"],[1,2752,199,58,"message"],[1,2754,199,66,"text"],[1,2766,200,12,"loadAndPlay"],[1,2768,200,24,"audioBlob"],[1,2770,201,4],[1,2771,201,6],[1,2777,201,13,"error"],[1,2780,202,6,"console"],[1,2788,202,14,"error"],[1,2794,202,20],[1,2807,202,34,"error"],[1,2810,203,6,"Alert"],[1,2812,203,11,"default"],[1,2820,203,12,"alert"],[1,2826,203,18],[1,2834,203,27],[1,2876,204,4],[1,2877,204,5],[1,2885,205,6,"setLoading"],[1,2888,205,17],[1,2890,206,4],[1,2893,209,2],[1,2900,209,7,"user"],[1,2903,218,4],[1,2905,218,4,"_reactJsxDevRuntime"],[1,2907,218,4,"jsxDEV"],[1,2915,218,5,"_reactNativeSafeAreaContext"],[1,2917,218,17,"SafeAreaView"],[1,2930,218,17],[1,2931,218,18,"style"],[1,2937,218,25,"styles"],[1,2939,218,32,"container"],[1,2949,218,43,"edges"],[1,2955,218,50],[1,2956,218,51],[1,2966,218,61,"children"],[1,2975,218,61],[1,2977,219,6],[1,2979,219,6,"_reactJsxDevRuntime"],[1,2981,219,6,"jsxDEV"],[1,2989,219,7,"KeyboardAvoidingView"],[1,2991,219,27,"default"],[1,2999,219,27],[1,3000,220,8,"style"],[1,3006,220,15,"styles"],[1,3008,220,22,"keyboardView"],[1,3021,221,8,"behavior"],[1,3030,221,34],[1,3038,221,18,"Platform"],[1,3040,221,26,"default"],[1,3048,221,27,"OS"],[1,3051,221,42],[1,3066,221,54,"undefined"],[1,3068,222,8,"keyboardVerticalOffset"],[1,3091,222,48],[1,3099,222,32,"Platform"],[1,3101,222,40,"default"],[1,3109,222,41,"OS"],[1,3112,222,56],[1,3115,222,61],[1,3117,222,63,"children"],[1,3126,222,63],[1,3128,225,8],[1,3130,225,8,"_reactJsxDevRuntime"],[1,3132,225,8,"jsxDEV"],[1,3140,225,9,"View"],[1,3142,225,13,"default"],[1,3150,225,13],[1,3151,225,14,"style"],[1,3157,225,21,"styles"],[1,3159,225,28,"header"],[1,3166,225,35,"children"],[1,3175,225,35],[1,3177,226,10],[1,3179,226,10,"_reactJsxDevRuntime"],[1,3181,226,10,"jsxDEV"],[1,3189,226,11,"Text"],[1,3191,226,15,"default"],[1,3199,226,15],[1,3200,226,16,"style"],[1,3206,226,23,"styles"],[1,3208,226,30,"headerTitle"],[1,3220,226,42,"children"],[1,3229,226,43],[1,3245,226,50],[1,3251,226,50,"fileName"],[1,3260,226,50,"_jsxFileName"],[1,3262,226,50,"lineNumber"],[1,3273,226,50],[1,3277,226,50,"columnNumber"],[1,3290,226,50],[1,3294,226,50,"this"],[1,3301,227,10],[1,3303,227,10,"_reactJsxDevRuntime"],[1,3305,227,10,"jsxDEV"],[1,3313,227,11,"View"],[1,3315,227,15,"default"],[1,3323,227,15],[1,3324,227,16,"style"],[1,3330,227,23,"styles"],[1,3332,227,30,"headerButtons"],[1,3346,227,44,"children"],[1,3355,227,44],[1,3357,228,12],[1,3359,228,12,"_reactJsxDevRuntime"],[1,3361,228,12,"jsxDEV"],[1,3369,228,13,"TouchableOpacity"],[1,3371,228,29,"default"],[1,3379,228,29],[1,3380,229,14,"onPress"],[1,3388,229,23,"onPress"],[1,3392,229,29,"router"],[1,3394,229,35,"router"],[1,3401,229,36,"push"],[1,3406,229,41],[1,3417,230,14,"style"],[1,3423,230,21,"styles"],[1,3425,230,28,"headerButton"],[1,3438,230,41,"children"],[1,3448,232,14],[1,3450,232,14,"_reactJsxDevRuntime"],[1,3452,232,14,"jsxDEV"],[1,3460,232,15,"_expoVectorIcons"],[1,3462,232,23,"Ionicons"],[1,3471,232,23],[1,3472,232,24,"name"],[1,3477,232,29],[1,3494,232,46,"size"],[1,3499,232,52],[1,3502,232,56,"color"],[1,3508,232,62],[1,3524,232,71],[1,3530,232,71,"fileName"],[1,3539,232,71,"_jsxFileName"],[1,3541,232,71,"lineNumber"],[1,3552,232,71],[1,3556,232,71,"columnNumber"],[1,3569,232,71],[1,3573,232,71,"this"],[1,3585,232,74],[1,3591,232,74,"fileName"],[1,3600,232,74,"_jsxFileName"],[1,3602,232,74,"lineNumber"],[1,3613,232,74],[1,3617,232,74,"columnNumber"],[1,3630,232,74],[1,3634,232,74,"this"],[1,3641,234,12],[1,3643,234,12,"_reactJsxDevRuntime"],[1,3645,234,12,"jsxDEV"],[1,3653,234,13,"TouchableOpacity"],[1,3655,234,29,"default"],[1,3663,234,29],[1,3664,235,14,"onPress"],[1,3672,235,23,"onPress"],[1,3676,235,29,"router"],[1,3678,235,35,"router"],[1,3685,235,36,"push"],[1,3690,235,41],[1,3702,236,14,"style"],[1,3708,236,21,"styles"],[1,3710,236,28,"headerButton"],[1,3723,236,41,"children"],[1,3733,238,14],[1,3735,238,14,"_reactJsxDevRuntime"],[1,3737,238,14,"jsxDEV"],[1,3745,238,15,"_expoVectorIcons"],[1,3747,238,23,"Ionicons"],[1,3756,238,23],[1,3757,238,24,"name"],[1,3762,238,29],[1,3779,238,46,"size"],[1,3784,238,52],[1,3787,238,56,"color"],[1,3793,238,62],[1,3809,238,71],[1,3815,238,71,"fileName"],[1,3824,238,71,"_jsxFileName"],[1,3826,238,71,"lineNumber"],[1,3837,238,71],[1,3841,238,71,"columnNumber"],[1,3854,238,71],[1,3858,238,71,"this"],[1,3870,238,74],[1,3876,238,74,"fileName"],[1,3885,238,74,"_jsxFileName"],[1,3887,238,74,"lineNumber"],[1,3898,238,74],[1,3902,238,74,"columnNumber"],[1,3915,238,74],[1,3919,238,74,"this"],[1,3932,239,31],[1,3938,239,31,"fileName"],[1,3947,239,31,"_jsxFileName"],[1,3949,239,31,"lineNumber"],[1,3960,239,31],[1,3964,239,31,"columnNumber"],[1,3977,239,31],[1,3981,239,31,"this"],[1,3994,240,17],[1,4000,240,17,"fileName"],[1,4009,240,17,"_jsxFileName"],[1,4011,240,17,"lineNumber"],[1,4022,240,17],[1,4026,240,17,"columnNumber"],[1,4039,240,17],[1,4042,240,17,"this"],[1,4048,244,9,"showTrackSelector"],[1,4052,245,10],[1,4054,245,10,"_reactJsxDevRuntime"],[1,4056,245,10,"jsxDEV"],[1,4064,245,11,"View"],[1,4066,245,15,"default"],[1,4074,245,15],[1,4075,245,16,"style"],[1,4081,245,23,"styles"],[1,4083,245,30,"trackSelectorOverlay"],[1,4104,245,51,"children"],[1,4114,246,12],[1,4116,246,12,"_reactJsxDevRuntime"],[1,4118,246,12,"jsxDEV"],[1,4126,246,13,"View"],[1,4128,246,17,"default"],[1,4136,246,17],[1,4137,246,18,"style"],[1,4143,246,25,"styles"],[1,4145,246,32,"trackSelectorCard"],[1,4163,246,50,"children"],[1,4173,247,14],[1,4175,247,14,"_reactJsxDevRuntime"],[1,4177,247,14,"jsxDEV"],[1,4185,247,15,"_componentsTrackSelector"],[1,4187,247,28,"TrackSelector"],[1,4201,247,28],[1,4202,248,16,"selectedTrack"],[1,4216,248,31,"selectedTrack"],[1,4218,249,16,"onSelectTrack"],[1,4232,85,28,"async"],[1,4242,86,4],[1,4245,86,9,"user"],[1,4247,86,4],[1,4248,88,4,"setSelectedTrack"],[1,4250,88,21,"track"],[1,4253,89,4,"setShowTrackSelector"],[1,4256,89,25],[1,4259,91,4],[1,4269,92,12,"apiService"],[1,4271,92,22,"apiService"],[1,4282,92,23,"selectTrack"],[1,4294,92,35,"user"],[1,4296,92,40,"id"],[1,4299,92,44,"track"],[1,4301,93,4],[1,4302,93,6],[1,4308,93,13,"error"],[1,4311,94,6,"console"],[1,4319,94,14,"error"],[1,4325,94,20],[1,4348,94,44,"error"],[1,4350,95,4],[1,4351,86,15],[1,4360,249,49],[1,4366,249,49,"fileName"],[1,4375,249,49,"_jsxFileName"],[1,4377,249,49,"lineNumber"],[1,4388,249,49],[1,4392,249,49,"columnNumber"],[1,4405,249,49],[1,4409,249,49,"this"],[1,4421,250,16],[1,4427,250,16,"fileName"],[1,4436,250,16,"_jsxFileName"],[1,4438,250,16,"lineNumber"],[1,4449,250,16],[1,4453,250,16,"columnNumber"],[1,4466,250,16],[1,4470,250,16,"this"],[1,4482,251,19],[1,4488,251,19,"fileName"],[1,4497,251,19,"_jsxFileName"],[1,4499,251,19,"lineNumber"],[1,4510,251,19],[1,4514,251,19,"columnNumber"],[1,4527,251,19],[1,4531,251,19,"this"],[1,4538,256,8],[1,4540,256,8,"_reactJsxDevRuntime"],[1,4542,256,8,"jsxDEV"],[1,4550,256,9,"View"],[1,4552,256,13,"default"],[1,4560,256,13],[1,4561,256,14,"style"],[1,4567,256,21,"styles"],[1,4569,256,28,"messagesContainer"],[1,4587,256,46,"children"],[1,4596,257,31],[1,4600,257,11,"messages"],[1,4602,257,20,"length"],[1,4610,258,12],[1,4612,258,12,"_reactJsxDevRuntime"],[1,4614,258,12,"jsxDEV"],[1,4622,258,13,"View"],[1,4624,258,17,"default"],[1,4632,258,17],[1,4633,258,18,"style"],[1,4639,258,25,"styles"],[1,4641,258,32,"emptyState"],[1,4652,258,43,"children"],[1,4661,258,43],[1,4663,259,14],[1,4665,259,14,"_reactJsxDevRuntime"],[1,4667,259,14,"jsxDEV"],[1,4675,259,15,"Text"],[1,4677,259,19,"default"],[1,4685,259,19],[1,4686,259,20,"style"],[1,4692,259,27,"styles"],[1,4694,259,34,"emptyTitle"],[1,4705,259,45,"children"],[1,4714,259,45],[1,4715,259,46],[1,4722,259,51,"user"],[1,4724,259,56,"name"],[1,4736,259,60],[1,4742,259,60,"fileName"],[1,4751,259,60,"_jsxFileName"],[1,4753,259,60,"lineNumber"],[1,4764,259,60],[1,4768,259,60,"columnNumber"],[1,4781,259,60],[1,4785,259,60,"this"],[1,4792,260,14],[1,4794,260,14,"_reactJsxDevRuntime"],[1,4796,260,14,"jsxDEV"],[1,4804,260,15,"Text"],[1,4806,260,19,"default"],[1,4814,260,19],[1,4815,260,20,"style"],[1,4821,260,27,"styles"],[1,4823,260,34,"emptySubtitle"],[1,4837,260,48,"children"],[1,4846,261,17,"selectedTrack"],[1,4848,262,20],[1,4885,263,20],[1,4915,263,43],[1,4921,263,43,"fileName"],[1,4930,263,43,"_jsxFileName"],[1,4932,263,43,"lineNumber"],[1,4943,263,43],[1,4947,263,43,"columnNumber"],[1,4960,263,43],[1,4964,263,43,"this"],[1,4971,265,16,"selectedTrack"],[1,4975,266,16],[1,4977,266,16,"_reactJsxDevRuntime"],[1,4979,266,16,"jsxDEV"],[1,4987,266,17,"TouchableOpacity"],[1,4989,266,33,"default"],[1,4997,266,33],[1,4998,267,18,"style"],[1,5004,267,25,"styles"],[1,5006,267,32,"startButton"],[1,5018,268,18,"onPress"],[1,5026,268,27,"onPress"],[1,5030,268,33,"setShowTrackSelector"],[1,5033,268,54],[1,5036,269,18,"activeOpacity"],[1,5050,269,33],[1,5053,269,37,"children"],[1,5063,271,18],[1,5065,271,18,"_reactJsxDevRuntime"],[1,5067,271,18,"jsxDEV"],[1,5075,271,19,"Text"],[1,5077,271,23,"default"],[1,5085,271,23],[1,5086,271,24,"style"],[1,5092,271,31,"styles"],[1,5094,271,38,"startButtonText"],[1,5110,271,54,"children"],[1,5119,271,55],[1,5138,273,18],[1,5144,273,18,"fileName"],[1,5153,273,18,"_jsxFileName"],[1,5155,273,18,"lineNumber"],[1,5166,273,18],[1,5170,273,18,"columnNumber"],[1,5183,273,18],[1,5187,273,18,"this"],[1,5199,273,25],[1,5205,273,25,"fileName"],[1,5214,273,25,"_jsxFileName"],[1,5216,273,25,"lineNumber"],[1,5227,273,25],[1,5231,273,25,"columnNumber"],[1,5244,273,25],[1,5248,273,25,"this"],[1,5261,275,15],[1,5267,275,15,"fileName"],[1,5276,275,15,"_jsxFileName"],[1,5278,275,15,"lineNumber"],[1,5289,275,15],[1,5293,275,15,"columnNumber"],[1,5306,275,15],[1,5310,275,15,"this"],[1,5317,278,12],[1,5319,278,12,"_reactJsxDevRuntime"],[1,5321,278,12,"jsxDEV"],[1,5329,278,13,"_shopifyFlashList"],[1,5331,278,22,"FlashList"],[1,5341,278,22],[1,5342,279,14,"ref"],[1,5346,279,19,"flashListRef"],[1,5348,280,14,"data"],[1,5353,280,20,"messages"],[1,5355,281,14,"renderItem"],[1,5366,281,26,"renderItem"],[1,5368,281,29,"item"],[1,5379,282,16],[1,5381,282,16,"_reactJsxDevRuntime"],[1,5383,282,16,"jsxDEV"],[1,5391,282,17,"_componentsChatBubble"],[1,5393,282,27,"ChatBubble"],[1,5404,282,27],[1,5405,282,28,"message"],[1,5413,282,37,"item"],[1,5415,282,43,"onPlayAudio"],[1,5427,282,56,"handlePlayAudio"],[1,5435,282,72],[1,5441,282,72,"fileName"],[1,5450,282,72,"_jsxFileName"],[1,5452,282,72,"lineNumber"],[1,5463,282,72],[1,5467,282,72,"columnNumber"],[1,5480,282,72],[1,5484,282,72,"this"],[1,5490,284,14,"estimatedItemSize"],[1,5508,284,33],[1,5512,285,14,"keyExtractor"],[1,5525,285,29,"item"],[1,5528,285,38,"item"],[1,5530,285,43,"id"],[1,5533,286,14,"contentContainerStyle"],[1,5555,286,37,"styles"],[1,5557,286,44,"messagesList"],[1,5576,286,57],[1,5582,286,57,"fileName"],[1,5591,286,57,"_jsxFileName"],[1,5593,286,57,"lineNumber"],[1,5604,286,57],[1,5608,286,57,"columnNumber"],[1,5621,286,57],[1,5625,286,57,"this"],[1,5637,288,11],[1,5643,288,11,"fileName"],[1,5652,288,11,"_jsxFileName"],[1,5654,288,11,"lineNumber"],[1,5665,288,11],[1,5669,288,11,"columnNumber"],[1,5682,288,11],[1,5685,288,11,"this"],[1,5692,292,8],[1,5694,292,8,"_reactJsxDevRuntime"],[1,5696,292,8,"jsxDEV"],[1,5704,292,9,"View"],[1,5706,292,13,"default"],[1,5714,292,13],[1,5715,292,14,"style"],[1,5721,292,21,"styles"],[1,5723,292,28,"inputContainer"],[1,5738,292,43,"children"],[1,5747,292,43],[1,5749,294,10],[1,5751,294,10,"_reactJsxDevRuntime"],[1,5753,294,10,"jsxDEV"],[1,5761,294,11,"View"],[1,5763,294,15,"default"],[1,5771,294,15],[1,5772,294,16,"style"],[1,5778,294,23,"styles"],[1,5780,294,30,"textInputContainer"],[1,5799,294,49,"children"],[1,5808,294,49],[1,5810,295,12],[1,5812,295,12,"_reactJsxDevRuntime"],[1,5814,295,12,"jsxDEV"],[1,5822,295,13,"TextInput"],[1,5824,295,22,"default"],[1,5832,295,22],[1,5833,296,14,"style"],[1,5839,296,21,"styles"],[1,5841,296,28,"textInput"],[1,5851,297,14,"value"],[1,5857,297,21,"inputText"],[1,5859,298,14,"onChangeText"],[1,5872,298,28,"setInputText"],[1,5874,299,14,"placeholder"],[1,5886,299,26],[1,5906,300,14,"placeholderTextColor"],[1,5927,300,35],[1,5937,301,14,"multiline"],[1,5948,301,23],[1,5950,302,14,"maxLength"],[1,5960,302,25],[1,5964,303,14,"editable"],[1,5974,303,25,"loading"],[1,5978,303,37,"isRecording"],[1,5986,303,49],[1,5992,303,49,"fileName"],[1,6001,303,49,"_jsxFileName"],[1,6003,303,49,"lineNumber"],[1,6014,303,49],[1,6018,303,49,"columnNumber"],[1,6031,303,49],[1,6035,303,49,"this"],[1,6042,305,12],[1,6044,305,12,"_reactJsxDevRuntime"],[1,6046,305,12,"jsxDEV"],[1,6054,305,13,"TouchableOpacity"],[1,6056,305,29,"default"],[1,6064,305,29],[1,6065,306,14,"onPress"],[1,6073,185,25,"handleTextSend"],[1,6078,186,8,"inputText"],[1,6080,186,18,"trim"],[1,6088,187,6,"handleSendMessage"],[1,6090,187,24,"inputText"],[1,6093,187,35],[1,6097,307,14,"disabled"],[1,6107,307,25,"inputText"],[1,6109,307,35,"trim"],[1,6117,307,45,"loading"],[1,6120,307,56,"isRecording"],[1,6122,308,14,"style"],[1,6128,308,21,"styles"],[1,6130,308,28,"sendButton"],[1,6141,308,39,"children"],[1,6151,310,14],[1,6153,310,14,"_reactJsxDevRuntime"],[1,6155,310,14,"jsxDEV"],[1,6163,310,15,"_expoVectorIcons"],[1,6165,310,23,"Ionicons"],[1,6174,310,23],[1,6175,311,16,"name"],[1,6180,311,21],[1,6187,312,16,"size"],[1,6192,312,22],[1,6195,313,16,"color"],[1,6202,313,23,"inputText"],[1,6204,313,33,"trim"],[1,6212,313,44,"loading"],[1,6215,313,56,"isRecording"],[1,6217,313,82],[1,6227,313,70],[1,6243,313,92],[1,6249,313,92,"fileName"],[1,6258,313,92,"_jsxFileName"],[1,6260,313,92,"lineNumber"],[1,6271,313,92],[1,6275,313,92,"columnNumber"],[1,6288,313,92],[1,6292,313,92,"this"],[1,6304,314,16],[1,6310,314,16,"fileName"],[1,6319,314,16,"_jsxFileName"],[1,6321,314,16,"lineNumber"],[1,6332,314,16],[1,6336,314,16,"columnNumber"],[1,6349,314,16],[1,6353,314,16,"this"],[1,6366,315,31],[1,6372,315,31,"fileName"],[1,6381,315,31,"_jsxFileName"],[1,6383,315,31,"lineNumber"],[1,6394,315,31],[1,6398,315,31,"columnNumber"],[1,6411,315,31],[1,6415,315,31,"this"],[1,6422,319,10],[1,6424,319,10,"_reactJsxDevRuntime"],[1,6426,319,10,"jsxDEV"],[1,6434,319,11,"View"],[1,6436,319,15,"default"],[1,6444,319,15],[1,6445,319,16,"style"],[1,6451,319,23,"styles"],[1,6453,319,30,"micContainer"],[1,6466,319,43,"children"],[1,6475,319,43],[1,6477,320,12],[1,6479,320,12,"_reactJsxDevRuntime"],[1,6481,320,12,"jsxDEV"],[1,6489,320,13,"_componentsMicButton"],[1,6491,320,22,"MicButton"],[1,6501,320,22],[1,6502,321,14,"isRecording"],[1,6514,321,27,"isRecording"],[1,6516,322,14,"onPress"],[1,6524,140,25,"async"],[1,6534,141,4],[1,6537,141,8,"isRecording"],[1,6539,141,21],[1,6540,143,6,"setLoading"],[1,6543,143,17],[1,6546,144,6,"setLoadingMessage"],[1,6548,144,24],[1,6567,146,6],[1,6571,147,8],[1,6577,147,14,"audioUri"],[1,6585,147,31,"stopRecording"],[1,6589,148,8],[1,6593,148,13,"audioUri"],[1,6595,149,10],[1,6601,149,16],[1,6605,149,20,"Error"],[1,6611,149,26],[1,6632,152,8],[1,6638,152,14,"blob"],[1,6643,152,16,"blob"],[1,6645,152,20,"filename"],[1,6654,152,22,"filename"],[1,6663,152,41,"getAudioBlob"],[1,6665,152,54,"audioUri"],[1,6668,154,14,"transcribeResult"],[1,6676,154,39,"apiService"],[1,6678,154,49,"apiService"],[1,6689,154,50,"transcribeAudio"],[1,6705,154,66,"blob"],[1,6707,154,72,"filename"],[1,6710,156,12,"transcribeResult"],[1,6712,156,29,"success"],[1,6721,156,40,"transcribeResult"],[1,6723,156,57,"text"],[1,6734,157,16,"handleSendMessage"],[1,6736,157,34,"transcribeResult"],[1,6738,157,51,"text"],[1,6744,157,57],[1,6746,157,63,"transcribeResult"],[1,6748,157,80,"duration"],[1,6759,159,10,"Alert"],[1,6761,159,15,"default"],[1,6769,159,16,"alert"],[1,6775,159,22],[1,6783,159,31],[1,6832,160,10,"setLoading"],[1,6835,160,21],[1,6838,162,6],[1,6839,162,8],[1,6845,162,15,"error"],[1,6848,163,8,"console"],[1,6856,163,16,"error"],[1,6862,163,22],[1,6885,163,46,"error"],[1,6888,164,8,"Alert"],[1,6890,164,13,"default"],[1,6898,164,14,"alert"],[1,6904,164,20],[1,6912,164,29],[1,6958,165,8,"setLoading"],[1,6961,165,19],[1,6963,166,6],[1,6964,167,4],[1,6970,169,6],[1,6974,170,33],[1,6986,170,12,"permissionStatus"],[1,6989,171,10,"Alert"],[1,6991,171,15,"default"],[1,6999,171,16,"alert"],[1,7005,172,12],[1,7029,173,12],[1,7094,174,12],[1,7095,174,13],[1,7096,174,15,"text"],[1,7101,174,21],[1,7115,177,14,"startRecording"],[1,7118,178,6],[1,7119,178,8],[1,7125,178,15,"error"],[1,7128,179,8,"console"],[1,7136,179,16,"error"],[1,7142,179,22],[1,7161,179,42,"error"],[1,7164,180,8,"Alert"],[1,7166,180,13,"default"],[1,7174,180,14,"alert"],[1,7180,180,20],[1,7188,180,29],[1,7254,181,6],[1,7257,323,14,"disabled"],[1,7266,323,24,"loading"],[1,7270,323,36,"isRecording"],[1,7278,323,48],[1,7284,323,48,"fileName"],[1,7293,323,48,"_jsxFileName"],[1,7295,323,48,"lineNumber"],[1,7306,323,48],[1,7310,323,48,"columnNumber"],[1,7323,323,48],[1,7327,323,48,"this"],[1,7333,325,13,"isRecording"],[1,7337,326,14],[1,7339,326,14,"_reactJsxDevRuntime"],[1,7341,326,14,"jsxDEV"],[1,7349,326,15,"Text"],[1,7351,326,19,"default"],[1,7359,326,19],[1,7360,326,20,"style"],[1,7366,326,27,"styles"],[1,7368,326,34,"recordingText"],[1,7382,326,48,"children"],[1,7391,326,49],[1,7412,326,61],[1,7418,326,61,"fileName"],[1,7427,326,61,"_jsxFileName"],[1,7429,326,61,"lineNumber"],[1,7440,326,61],[1,7444,326,61,"columnNumber"],[1,7457,326,61],[1,7461,326,61,"this"],[1,7474,327,13],[1,7480,327,13,"fileName"],[1,7489,327,13,"_jsxFileName"],[1,7491,327,13,"lineNumber"],[1,7502,327,13],[1,7506,327,13,"columnNumber"],[1,7519,327,13],[1,7523,327,13,"this"],[1,7530,331,12,"isRecording"],[1,7533,331,47],[1,7537,331,27,"messages"],[1,7539,331,36,"length"],[1,7548,332,12],[1,7550,332,12,"_reactJsxDevRuntime"],[1,7552,332,12,"jsxDEV"],[1,7560,332,13,"Text"],[1,7562,332,17,"default"],[1,7570,332,17],[1,7571,332,18,"style"],[1,7577,332,25,"styles"],[1,7579,332,32,"hintText"],[1,7588,332,41,"children"],[1,7597,332,42],[1,7654,334,12],[1,7660,334,12,"fileName"],[1,7669,334,12,"_jsxFileName"],[1,7671,334,12,"lineNumber"],[1,7682,334,12],[1,7686,334,12,"columnNumber"],[1,7699,334,12],[1,7703,334,12,"this"],[1,7716,335,11],[1,7722,335,11,"fileName"],[1,7731,335,11,"_jsxFileName"],[1,7733,335,11,"lineNumber"],[1,7744,335,11],[1,7748,335,11,"columnNumber"],[1,7761,335,11],[1,7764,335,11,"this"],[1,7777,336,15],[1,7783,336,15,"fileName"],[1,7792,336,15,"_jsxFileName"],[1,7794,336,15,"lineNumber"],[1,7805,336,15],[1,7809,336,15,"columnNumber"],[1,7822,336,15],[1,7825,336,15,"this"],[1,7832,339,6],[1,7834,339,6,"_reactJsxDevRuntime"],[1,7836,339,6,"jsxDEV"],[1,7844,339,7,"_componentsLoadingOverlay"],[1,7846,339,21,"LoadingOverlay"],[1,7861,339,21],[1,7862,339,22,"visible"],[1,7870,339,31,"loading"],[1,7874,339,43,"isRecording"],[1,7876,339,56,"message"],[1,7884,339,65,"loadingMessage"],[1,7892,339,80],[1,7898,339,80,"fileName"],[1,7907,339,80,"_jsxFileName"],[1,7909,339,80,"lineNumber"],[1,7920,339,80],[1,7924,339,80,"columnNumber"],[1,7937,339,80],[1,7940,339,80,"this"],[1,7953,339,83],[1,7959,339,83,"fileName"],[1,7968,339,83,"_jsxFileName"],[1,7970,339,83,"lineNumber"],[1,7981,339,83],[1,7985,339,83,"columnNumber"],[1,7998,339,83],[1,8001,339,83,"this"],[1,8008,211,6],[1,8010,211,6,"_reactJsxDevRuntime"],[1,8012,211,6,"jsxDEV"],[1,8020,211,7,"View"],[1,8022,211,11,"default"],[1,8030,211,11],[1,8031,211,12,"style"],[1,8037,211,19,"styles"],[1,8039,211,26,"loadingContainer"],[1,8056,211,43,"children"],[1,8066,212,8],[1,8068,212,8,"_reactJsxDevRuntime"],[1,8070,212,8,"jsxDEV"],[1,8078,212,9,"Text"],[1,8080,212,13,"default"],[1,8088,212,13],[1,8089,212,13,"children"],[1,8098,212,14],[1,8117,212,24],[1,8123,212,24,"fileName"],[1,8132,212,24,"_jsxFileName"],[1,8134,212,24,"lineNumber"],[1,8145,212,24],[1,8149,212,24,"columnNumber"],[1,8162,212,24],[1,8165,212,24,"this"],[1,8177,212,31],[1,8183,212,31,"fileName"],[1,8192,212,31,"_jsxFileName"],[1,8194,212,31,"lineNumber"],[1,8205,212,31],[1,8209,212,31,"columnNumber"],[1,8222,212,31],[1,8225,212,31,"this"],[1,8230,342,0],[1,8231,342,1,"_s"],[1,8233,29,24,"ChatScreen"],[1,8235,29,34],[1,8287,30,15,"useUserStore"],[1,8289,30,27,"useUserStore"],[1,8302,39,89,"useAudioRecording"],[1,8304,39,106,"useAudioRecording"],[1,8322,40,37,"useAudioPlayback"],[1,8324,40,53,"useAudioPlayback"],[1,8341,40,53],[1,8344,40,53,"_c"],[1,8346,29,24,"ChatScreen"],[1,8348,344,0],[1,8354,344,6,"styles"],[1,8356,344,15,"StyleSheet"],[1,8358,344,25,"default"],[1,8366,344,26,"create"],[1,8373,344,33],[1,8374,345,2,"container"],[1,8384,345,13],[1,8385,346,4,"flex"],[1,8390,346,10],[1,8392,347,4,"backgroundColor"],[1,8408,347,21],[1,8419,349,2,"loadingContainer"],[1,8436,349,20],[1,8437,350,4,"flex"],[1,8442,350,10],[1,8444,351,4,"alignItems"],[1,8455,351,16],[1,8464,352,4,"justifyContent"],[1,8479,352,20],[1,8489,354,2,"keyboardView"],[1,8502,354,16],[1,8503,355,4,"flex"],[1,8508,355,10],[1,8511,357,2,"header"],[1,8518,357,10],[1,8519,358,4,"flexDirection"],[1,8533,358,19],[1,8539,359,4,"alignItems"],[1,8550,359,16],[1,8559,360,4,"justifyContent"],[1,8574,360,20],[1,8590,361,4,"padding"],[1,8598,361,13],[1,8601,362,4,"borderBottomWidth"],[1,8619,362,23],[1,8621,363,4,"borderBottomColor"],[1,8639,363,23],[1,8650,365,2,"headerTitle"],[1,8662,365,15],[1,8663,366,4,"fontSize"],[1,8672,366,14],[1,8675,367,4,"fontWeight"],[1,8686,367,16],[1,8692,368,4,"color"],[1,8698,368,11],[1,8709,370,2,"headerButtons"],[1,8723,370,17],[1,8724,371,4,"flexDirection"],[1,8738,371,19],[1,8745,373,2,"headerButton"],[1,8758,373,16],[1,8759,374,4,"marginLeft"],[1,8770,374,16],[1,8774,376,2,"trackSelectorOverlay"],[1,8795,376,24],[1,8796,377,4,"position"],[1,8805,377,14],[1,8816,378,4,"top"],[1,8820,378,9],[1,8822,379,4,"left"],[1,8827,379,10],[1,8829,380,4,"right"],[1,8835,380,11],[1,8837,381,4,"bottom"],[1,8844,381,12],[1,8846,382,4,"backgroundColor"],[1,8862,382,21],[1,8883,383,4,"zIndex"],[1,8890,383,12],[1,8894,384,4,"alignItems"],[1,8905,384,16],[1,8914,385,4,"justifyContent"],[1,8929,385,20],[1,8939,387,2,"trackSelectorCard"],[1,8957,387,21],[1,8958,388,4,"backgroundColor"],[1,8974,388,21],[1,8984,389,4,"borderRadius"],[1,8997,389,18],[1,9000,390,4,"width"],[1,9006,390,11],[1,9012,391,4,"maxWidth"],[1,9021,391,14],[1,9026,393,2,"messagesContainer"],[1,9044,393,21],[1,9045,394,4,"flex"],[1,9050,394,10],[1,9053,396,2,"messagesList"],[1,9066,396,16],[1,9067,397,4,"paddingVertical"],[1,9083,397,21],[1,9087,399,2,"emptyState"],[1,9098,399,14],[1,9099,400,4,"flex"],[1,9104,400,10],[1,9106,401,4,"alignItems"],[1,9117,401,16],[1,9126,402,4,"justifyContent"],[1,9141,402,20],[1,9150,403,4,"padding"],[1,9158,403,13],[1,9162,405,2,"emptyTitle"],[1,9173,405,14],[1,9174,406,4,"fontSize"],[1,9183,406,14],[1,9186,407,4,"fontWeight"],[1,9197,407,16],[1,9203,408,4,"color"],[1,9209,408,11],[1,9219,409,4,"marginTop"],[1,9229,409,15],[1,9233,411,2,"emptySubtitle"],[1,9247,411,17],[1,9248,412,4,"fontSize"],[1,9257,412,14],[1,9260,413,4,"color"],[1,9266,413,11],[1,9276,414,4,"textAlign"],[1,9286,414,15],[1,9295,415,4,"marginTop"],[1,9305,415,15],[1,9307,416,4,"lineHeight"],[1,9318,416,16],[1,9322,418,2,"startButton"],[1,9334,418,15],[1,9335,419,4,"backgroundColor"],[1,9351,419,21],[1,9361,420,4,"paddingHorizontal"],[1,9379,420,23],[1,9382,421,4,"paddingVertical"],[1,9398,421,21],[1,9401,422,4,"borderRadius"],[1,9414,422,18],[1,9416,423,4,"marginTop"],[1,9426,423,15],[1,9430,425,2,"startButtonText"],[1,9446,425,19],[1,9447,426,4,"color"],[1,9453,426,11],[1,9463,427,4,"fontSize"],[1,9472,427,14],[1,9475,428,4,"fontWeight"],[1,9486,428,16],[1,9493,430,2,"inputContainer"],[1,9508,430,18],[1,9509,431,4,"padding"],[1,9517,431,13],[1,9520,432,4,"borderTopWidth"],[1,9535,432,20],[1,9537,433,4,"borderTopColor"],[1,9552,433,20],[1,9563,435,2,"textInputContainer"],[1,9582,435,22],[1,9583,436,4,"flexDirection"],[1,9597,436,19],[1,9603,437,4,"alignItems"],[1,9614,437,16],[1,9625,438,4,"backgroundColor"],[1,9641,438,21],[1,9651,439,4,"borderRadius"],[1,9664,439,18],[1,9667,440,4,"paddingHorizontal"],[1,9685,440,23],[1,9688,441,4,"paddingVertical"],[1,9704,441,21],[1,9706,442,4,"marginBottom"],[1,9719,442,18],[1,9723,444,2,"textInput"],[1,9733,444,13],[1,9734,445,4,"flex"],[1,9739,445,10],[1,9741,446,4,"fontSize"],[1,9750,446,14],[1,9753,447,4,"color"],[1,9759,447,11],[1,9769,448,4,"maxHeight"],[1,9779,448,15],[1,9784,450,2,"sendButton"],[1,9795,450,14],[1,9796,451,4,"marginLeft"],[1,9807,451,16],[1,9809,452,4,"padding"],[1,9817,452,13],[1,9820,454,2,"micContainer"],[1,9833,454,16],[1,9834,455,4,"alignItems"],[1,9845,455,16],[1,9855,457,2,"recordingText"],[1,9869,457,17],[1,9870,458,4,"marginTop"],[1,9880,458,15],[1,9882,459,4,"fontSize"],[1,9891,459,14],[1,9894,460,4,"color"],[1,9900,460,11],[1,9910,461,4,"fontWeight"],[1,9921,461,16],[1,9928,463,2,"hintText"],[1,9937,463,12],[1,9938,464,4,"fontSize"],[1,9947,464,14],[1,9950,465,4,"color"],[1,9956,465,11],[1,9966,466,4,"textAlign"],[1,9976,466,15],[1,9985,467,4,"marginTop"],[1,9995,467,15],[1,10000,469,3],[1,10004,469,3,"_c"],[1,10006,469,3,"$RefreshReg$"],[1,10019,469,3,"_c"],[1,10021,469,3],[1,10037]],"functionMap":{"names":["<global>","ChatScreen","useUserStore$argument_0","useEffect$argument_0","setTimeout$argument_0","<anonymous>","loadChatHistory","history.reverse.find$argument_0","handleSelectTrack","handleSendMessage","setMessages$argument_0","handleMicPress","handleTextSend","handlePlayAudio","messages.find$argument_0","TouchableOpacity.props.onPress","FlashList.props.renderItem","FlashList.props.keyExtractor"],"mappings":"AAA;eC4B;4BCC,qBD;YEa;6BCE;KDI;WEC,yBF;GFC;YEG;GFI;YEG;iBCG,gCD;GFE;0BKE;+CCQ,YD;GLO;4BOE;GPW;4BQE;gBCc,gCD;eLI;KKE;kBCO,6BD;iBLG;OKE;GRQ;yBUE;GV2C;yBWE;GXI;0BYE;kCCC,yBD;GZe;uBcsB,4Bd;uBcM,6Bd;2BciC,gCd;0Bea;efE;4BgBE,iBhB;CDyD"},"hasCjsExports":false},"type":"js/module"}]}