{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":32,"index":90}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}},{"name":"expo-file-system","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":47,"index":138}}],"key":"6GyvFG3BsQPSqqu9QRKJ8hfZxPw=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";var e=$RefreshSig$();Object.defineProperty(_e,'__esModule',{value:!0}),_e.useAudioRecording=u;var o,t=r(_d[0],\"react\"),n=r(_d[1],\"expo-av\"),s=(function(e){if(e&&e.__esModule)return e;var o={};return e&&Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),o.default=e,o})(r(_d[2],\"expo-file-system\")),c=r(_d[3],\"react-native-web/dist/exports/Platform\"),d=(o=c)&&o.__esModule?o:{default:o};function u(){e();const[o,c]=(0,t.useState)(null),[u,l]=(0,t.useState)(!1),[f,A]=n.Audio.usePermissions();(0,t.useEffect)(()=>()=>{o&&o.stopAndUnloadAsync().catch(console.error)},[o]);return{isRecording:u,startRecording:(0,t.useCallback)(async()=>{try{if('granted'!==f?.status){console.log('Requesting microphone permission...');if('granted'!==(await A()).status)throw new Error('Microphone permission was denied')}const e={allowsRecordingIOS:!0,playsInSilentModeIOS:!0,staysActiveInBackground:!1};'android'===d.default.OS&&n.Audio.AndroidAudioUsage&&(e.interruptionModeAndroid=n.Audio.AndroidAudioUsage.VOICE_COMMUNICATION),await n.Audio.setAudioModeAsync(e);const{recording:o}=await n.Audio.Recording.createAsync(n.Audio.RecordingOptionsPresets.HIGH_QUALITY);c(o),l(!0)}catch(e){throw console.error('Failed to start recording:',e),e}},[f,A]),stopRecording:(0,t.useCallback)(async()=>{if(!o)throw new Error('No active recording');try{await o.stopAndUnloadAsync();const e=o.getURI();return c(null),l(!1),e}catch(e){throw console.error('Failed to stop recording:',e),e}},[o]),getAudioBlob:(0,t.useCallback)(async e=>{try{if('web'===d.default.OS){const o=await fetch(e);return{blob:await o.blob(),filename:'audio.webm'}}{const o=await s.readAsStringAsync(e,{encoding:s.EncodingType.Base64}),t=await fetch(`data:audio/mp3;base64,${o}`);return{blob:await t.blob(),filename:'audio.mp3'}}}catch(e){throw console.error('Failed to get audio blob:',e),e}},[]),permissionStatus:f?.status}}e(u,\"851t8NlxT567QcRIBQpL2O86daA=\",!1,function(){return[n.Audio.usePermissions]})});","lineCount":1,"map":[[1,114,6,0,"_e"],[1,117,6,0,"useAudioRecording"],[1,137,1,0],[1,141],[1,143,1,0,"_react"],[1,145,1,0,"r"],[1,147,1,0,"_d"],[1,150,1,0],[1,162,2,0,"_expoAv"],[1,164,2,0,"r"],[1,166,2,0,"_d"],[1,169,2,0],[1,183,3,0,"FileSystem"],[1,186],[1,419,3,0,"_interopNamespace"],[1,420,3,0,"r"],[1,422,3,0,"_d"],[1,425,3,0],[1,449,3,47,"_reactNativeWebDistExportsPlatform"],[1,451,3,47,"r"],[1,453,3,47,"_d"],[1,456,3,47],[1,501,3,47,"Platform"],[1,504],[1,506,3,47,"_reactNativeWebDistExportsPlatform"],[1,510],[1,537,6,7],[1,546,6,16,"useAudioRecording"],[1,550,6,36,"_s"],[1,554,7,2],[1,560,7,9,"recording"],[1,562,7,20,"setRecording"],[1,566,7,36],[1,568,7,36,"useState"],[1,570,7,44,"useState"],[1,580,7,69],[1,587,8,9,"isRecording"],[1,589,8,22,"setIsRecording"],[1,593,8,40],[1,595,8,40,"useState"],[1,597,8,48,"useState"],[1,608,8,49],[1,612,9,9,"permissionResponse"],[1,614,9,29,"requestPermission"],[1,617,9,50,"Audio"],[1,619,9,55,"Audio"],[1,625,9,56,"usePermissions"],[1,643,11,2],[1,645,11,2,"useEffect"],[1,647,11,11,"useEffect"],[1,658,11,12],[1,662,12,11],[1,667,13,10,"recording"],[1,670,14,8,"recording"],[1,672,14,18,"stopAndUnloadAsync"],[1,693,14,39,"catch"],[1,699,14,45,"console"],[1,707,14,53,"error"],[1,715,17,5],[1,716,17,6,"recording"],[1,720,100,2],[1,726,100,9],[1,727,101,4,"isRecording"],[1,741,102,4,"startRecording"],[1,757,19,25],[1,759,19,25,"useCallback"],[1,761,19,36,"useCallback"],[1,774,19,37,"async"],[1,784,20,4],[1,788,22,6],[1,791,22,41],[1,803,22,10,"permissionResponse"],[1,806,22,30,"status"],[1,813,22,52],[1,814,23,8,"console"],[1,822,23,16,"log"],[1,826,23,20],[1,865,25,8],[1,868,25,32],[1,887,24,31,"requestPermission"],[1,892,25,21,"status"],[1,899,26,10],[1,905,26,16],[1,909,26,20,"Error"],[1,915,26,26],[1,950,28,6],[1,951,31,6],[1,957,31,12,"audioMode"],[1,959,31,29],[1,960,32,8,"allowsRecordingIOS"],[1,980,32,28],[1,982,33,8,"playsInSilentModeIOS"],[1,1004,33,30],[1,1006,34,8,"staysActiveInBackground"],[1,1031,34,33],[1,1034,38,26],[1,1046,38,10,"Platform"],[1,1048,38,18,"default"],[1,1056,38,19,"OS"],[1,1060,38,39,"Audio"],[1,1062,38,44,"Audio"],[1,1068,38,45,"AndroidAudioUsage"],[1,1088,39,8,"audioMode"],[1,1090,39,18,"interruptionModeAndroid"],[1,1114,39,44,"Audio"],[1,1116,39,49,"Audio"],[1,1122,39,50,"AndroidAudioUsage"],[1,1140,39,68,"VOICE_COMMUNICATION"],[1,1167,42,12,"Audio"],[1,1169,42,17,"Audio"],[1,1175,42,18,"setAudioModeAsync"],[1,1193,42,36,"audioMode"],[1,1196,45,6],[1,1202,45,14,"recording"],[1,1212,45,25,"newRecording"],[1,1221,45,48,"Audio"],[1,1223,45,53,"Audio"],[1,1229,45,54,"Recording"],[1,1239,45,64,"createAsync"],[1,1251,46,8,"Audio"],[1,1253,46,13,"Audio"],[1,1259,46,14,"RecordingOptionsPresets"],[1,1283,46,38,"HIGH_QUALITY"],[1,1297,49,6,"setRecording"],[1,1299,49,19,"newRecording"],[1,1302,50,6,"setIsRecording"],[1,1305,50,21],[1,1307,51,4],[1,1308,51,6],[1,1314,51,13,"error"],[1,1317,53,6],[1,1323,52,6,"console"],[1,1331,52,14,"error"],[1,1337,52,20],[1,1366,52,50,"error"],[1,1369,53,12,"error"],[1,1370,54,4],[1,1373,55,5],[1,1374,55,6,"permissionResponse"],[1,1376,55,26,"requestPermission"],[1,1380,103,4,"stopRecording"],[1,1395,57,24],[1,1397,57,24,"useCallback"],[1,1399,57,35,"useCallback"],[1,1412,57,36,"async"],[1,1422,58,4],[1,1426,58,9,"recording"],[1,1428,59,6],[1,1434,59,12],[1,1438,59,16,"Error"],[1,1444,59,22],[1,1467,62,4],[1,1477,63,12,"recording"],[1,1479,63,22,"stopAndUnloadAsync"],[1,1500,64,6],[1,1506,64,12,"uri"],[1,1508,64,18,"recording"],[1,1510,64,28,"getURI"],[1,1519,69,6],[1,1526,66,6,"setRecording"],[1,1528,66,19],[1,1534,67,6,"setIsRecording"],[1,1537,67,21],[1,1540,69,13,"uri"],[1,1541,70,4],[1,1542,70,6],[1,1548,70,13,"error"],[1,1551,72,6],[1,1557,71,6,"console"],[1,1565,71,14,"error"],[1,1571,71,20],[1,1599,71,49,"error"],[1,1602,72,12,"error"],[1,1603,73,4],[1,1606,74,5],[1,1607,74,6,"recording"],[1,1611,104,4,"getAudioBlob"],[1,1625,76,23],[1,1627,76,23,"useCallback"],[1,1629,76,34,"useCallback"],[1,1642,76,35,"async"],[1,1652,77,4],[1,1656,78,6],[1,1659,78,26],[1,1667,78,10,"Platform"],[1,1669,78,18,"default"],[1,1677,78,19,"OS"],[1,1680,78,33],[1,1681,79,8],[1,1687,79,14,"response"],[1,1695,79,31,"fetch"],[1,1701,79,37,"uri"],[1,1704,81,8],[1,1710,81,15],[1,1711,81,17,"blob"],[1,1722,80,27,"response"],[1,1724,80,36,"blob"],[1,1731,81,23,"filename"],[1,1740,81,33],[1,1753,82,6],[1,1754,82,13],[1,1755,84,8],[1,1761,84,14,"base64"],[1,1769,84,29,"FileSystem"],[1,1771,84,40,"readAsStringAsync"],[1,1789,84,58,"uri"],[1,1791,84,63],[1,1792,85,10,"encoding"],[1,1801,85,20,"FileSystem"],[1,1803,85,31,"EncodingType"],[1,1816,85,44,"Base64"],[1,1825,89,14,"response"],[1,1833,89,31,"fetch"],[1,1839,89,37],[1,1864,89,62,"base64"],[1,1869,92,8],[1,1875,92,15],[1,1876,92,17,"blob"],[1,1887,90,27,"response"],[1,1889,90,36,"blob"],[1,1896,92,23,"filename"],[1,1905,92,33],[1,1917,93,6],[1,1918,94,4],[1,1919,94,6],[1,1925,94,13,"error"],[1,1928,96,6],[1,1934,95,6,"console"],[1,1942,95,14,"error"],[1,1948,95,20],[1,1976,95,49,"error"],[1,1979,96,12,"error"],[1,1980,97,4],[1,1983,98,5],[1,1987,105,4,"permissionStatus"],[1,2004,105,22,"permissionResponse"],[1,2007,105,42,"status"],[1,2014,107,0],[1,2015,107,1,"_s"],[1,2017,6,16,"useAudioRecording"],[1,2019,6,33],[1,2071,9,50,"Audio"],[1,2073,9,55,"Audio"],[1,2079,9,56,"usePermissions"],[1,2094,9,70],[1,2099]],"functionMap":{"names":["<global>","useAudioRecording","useEffect$argument_0","<anonymous>","startRecording","stopRecording","getAudioBlob"],"mappings":"AAA;OCK;YCK;WCC;KDI;GDC;qCGE;GHoC;oCIE;GJiB;mCKE;GLsB;CDS"},"hasCjsExports":false},"type":"js/module"}]}