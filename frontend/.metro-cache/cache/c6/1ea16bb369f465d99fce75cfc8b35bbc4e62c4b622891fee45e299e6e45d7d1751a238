{"dependencies":[],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"RenderStackManager\",{enumerable:!0,get:function(){return t}});class t{constructor(t=Number.MAX_SAFE_INTEGER){this.disableRecycling=!1,this.maxItemsInRecyclePool=t,this.recycleKeyPools=new Map,this.keyMap=new Map,this.stableIdMap=new Map,this.keyCounter=0,this.unProcessedIndices=new Set}sync(t,s,i,c){this.clearRecyclePool(),this.unProcessedIndices.clear(),this.keyMap.forEach((o,l)=>{const{index:n,stableId:y,itemType:h}=o;if(n>=c)return void this.recycleKey(l);if(this.disableRecycling||this.unProcessedIndices.add(n),!i.includes(n))return void this.recycleKey(l);const p=t(n),u=s(n);y===p&&h===u||this.recycleKey(l)});for(const c of i)this.hasOptimizedKey(t(c))&&this.syncItem(c,s(c),t(c));for(const c of i)this.hasOptimizedKey(t(c))||this.syncItem(c,s(c),t(c));const o=[];for(const t of this.keyMap.values()){const s=t.index;s<c&&!i.includes(s)&&o.push(s)}for(const i of o)this.hasOptimizedKey(t(i))&&this.syncItem(i,s(i),t(i));for(const i of o)this.hasOptimizedKey(t(i))||this.syncItem(i,s(i),t(i));this.cleanup(t,s,i,c)}hasOptimizedKey(t){return this.stableIdMap.has(t)}cleanup(t,s,i,c){const o=new Array;for(const[i,l]of this.keyMap.entries()){const{index:n,itemType:y,stableId:h}=l,p=n>=c,u=!p&&t(n)!==h;if(p||u){const c=this.unProcessedIndices.values().next().value;let l=!0;if(void 0!==c){const i=s(c),o=t(c);y===i&&(this.syncItem(c,i,o),l=!1)}l&&(this.deleteKeyFromRecyclePool(y,i),this.stableIdMap.delete(h),o.push(i))}}for(const t of o)this.keyMap.delete(t);const l=this.keyMap.size-i.length;if(l>this.maxItemsInRecyclePool){const t=l-this.maxItemsInRecyclePool;let s=0;const c=Array.from(this.keyMap.entries()).reverse();for(let o=0;o<c.length&&s<t;o++){const[t,l]=c[o],{index:n,itemType:y,stableId:h}=l;i.includes(n)||(this.deleteKeyFromRecyclePool(y,t),this.stableIdMap.delete(h),this.keyMap.delete(t),s++)}}}recycleKey(t){if(this.disableRecycling)return;const s=this.keyMap.get(t);if(!s)return;const{itemType:i}=s;this.getRecyclePoolForType(i).add(t)}getRenderStack(){return this.keyMap}syncItem(t,s,i){const c=this.stableIdMap.get(i)||this.getKeyFromRecyclePool(s)||this.generateKey();this.unProcessedIndices.delete(t);const o=this.keyMap.get(c);return o?(this.deleteKeyFromRecyclePool(s,c),this.deleteKeyFromRecyclePool(o.itemType,c),this.stableIdMap.delete(o.stableId),o.index=t,o.itemType=s,o.stableId=i):this.keyMap.set(c,{itemType:s,index:t,stableId:i}),this.stableIdMap.set(i,c),c}clearRecyclePool(){for(const t of this.recycleKeyPools.values())t.clear()}generateKey(){return(this.keyCounter++).toString()}deleteKeyFromRecyclePool(t,s){var i;null===(i=this.recycleKeyPools.get(t))||void 0===i||i.delete(s)}getRecyclePoolForType(t){let s=this.recycleKeyPools.get(t);return s||(s=new Set,this.recycleKeyPools.set(t,s)),s}getKeyFromRecyclePool(t){const s=this.getRecyclePoolForType(t);if(s.size>0){const t=s.values().next().value;return s.delete(t),t}}}});","lineCount":1,"map":[[1,91,6,0,"Object"],[1,98,6,0,"defineProperty"],[1,113,6,0,"e"],[1,115,6,0],[1,137,6,0,"enumerable"],[1,149,6,0],[1,151,6,0,"get"],[1,155,6,0],[1,173,6,0,"RenderStackManager"],[1,174,6,0],[1,178,6,7],[1,184,6,13,"RenderStackManager"],[1,186,10,4,"constructor"],[1,198,10,16,"maxItemsInRecyclePool"],[1,200,10,40,"Number"],[1,207,10,47,"MAX_SAFE_INTEGER"],[1,225,11,8,"this"],[1,230,11,13,"disableRecycling"],[1,248,11,32],[1,250,12,8,"this"],[1,255,12,13,"maxItemsInRecyclePool"],[1,277,12,37,"maxItemsInRecyclePool"],[1,279,13,8,"this"],[1,284,13,13,"recycleKeyPools"],[1,300,13,31],[1,304,13,35,"Map"],[1,308,14,8,"this"],[1,313,14,13,"keyMap"],[1,320,14,22],[1,324,14,26,"Map"],[1,328,15,8,"this"],[1,333,15,13,"stableIdMap"],[1,345,15,27],[1,349,15,31,"Map"],[1,353,16,8,"this"],[1,358,16,13,"keyCounter"],[1,369,16,26],[1,371,17,8,"this"],[1,376,17,13,"unProcessedIndices"],[1,395,17,34],[1,399,17,38,"Set"],[1,402,18,4],[1,403,32,4,"sync"],[1,408,32,9,"getStableId"],[1,410,32,22,"getItemType"],[1,412,32,35,"engagedIndices"],[1,414,32,51,"dataLength"],[1,417,33,8,"this"],[1,422,33,13,"clearRecyclePool"],[1,441,34,8,"this"],[1,446,34,13,"unProcessedIndices"],[1,465,34,32,"clear"],[1,473,36,8,"this"],[1,478,36,13,"keyMap"],[1,485,36,20,"forEach"],[1,493,36,28],[1,494,36,29,"keyInfo"],[1,496,36,38,"key"],[1,501,37,12],[1,507,37,18,"index"],[1,513,37,20,"index"],[1,515,37,25,"stableId"],[1,524,37,27,"stableId"],[1,526,37,35,"itemType"],[1,535,37,37,"itemType"],[1,538,37,50,"keyInfo"],[1,540,38,12],[1,543,38,16,"index"],[1,546,38,25,"dataLength"],[1,548,40,16],[1,560,39,16,"this"],[1,565,39,21,"recycleKey"],[1,576,39,32,"key"],[1,579,45,12],[1,582,42,17,"this"],[1,587,42,22,"disableRecycling"],[1,605,43,16,"this"],[1,610,43,21,"unProcessedIndices"],[1,629,43,40,"add"],[1,633,43,44,"index"],[1,637,45,17,"engagedIndices"],[1,639,45,32,"includes"],[1,648,45,41,"index"],[1,651,47,16],[1,663,46,16,"this"],[1,668,46,21,"recycleKey"],[1,679,46,32,"key"],[1,682,49,12],[1,688,49,18,"newStableId"],[1,690,49,32,"getStableId"],[1,692,49,44,"index"],[1,695,50,18,"newItemType"],[1,697,50,32,"getItemType"],[1,699,50,44,"index"],[1,702,51,16,"stableId"],[1,706,51,29,"newStableId"],[1,709,51,44,"itemType"],[1,713,51,57,"newItemType"],[1,716,52,16,"this"],[1,721,52,21,"recycleKey"],[1,732,52,32,"key"],[1,737,56,8],[1,741,56,13],[1,747,56,19,"index"],[1,752,56,28,"engagedIndices"],[1,754,57,16,"this"],[1,759,57,21,"hasOptimizedKey"],[1,775,57,37,"getStableId"],[1,777,57,49,"index"],[1,782,58,16,"this"],[1,787,58,21,"syncItem"],[1,796,58,30,"index"],[1,798,58,37,"getItemType"],[1,800,58,49,"index"],[1,803,58,57,"getStableId"],[1,805,58,69,"index"],[1,809,62,8],[1,813,62,13],[1,819,62,19,"index"],[1,824,62,28,"engagedIndices"],[1,826,63,17,"this"],[1,831,63,22,"hasOptimizedKey"],[1,847,63,38,"getStableId"],[1,849,63,50,"index"],[1,854,64,16,"this"],[1,859,64,21,"syncItem"],[1,868,64,30,"index"],[1,870,64,37,"getItemType"],[1,872,64,49,"index"],[1,875,64,57,"getStableId"],[1,877,64,69,"index"],[1,881,69,8],[1,887,69,14,"validIndicesInPool"],[1,889,69,35],[1,892,70,8],[1,896,70,13],[1,902,70,19,"keyInfo"],[1,907,70,30,"this"],[1,912,70,35,"keyMap"],[1,919,70,42,"values"],[1,928,70,52],[1,929,71,12],[1,935,71,18,"index"],[1,937,71,26,"keyInfo"],[1,939,71,34,"index"],[1,945,72,16,"index"],[1,947,72,24,"dataLength"],[1,951,72,39,"engagedIndices"],[1,953,72,54,"includes"],[1,962,72,63,"index"],[1,966,73,16,"validIndicesInPool"],[1,968,73,35,"push"],[1,973,73,40,"index"],[1,975,75,8],[1,976,77,8],[1,980,77,13],[1,986,77,19,"index"],[1,991,77,28,"validIndicesInPool"],[1,993,78,16,"this"],[1,998,78,21,"hasOptimizedKey"],[1,1014,78,37,"getStableId"],[1,1016,78,49,"index"],[1,1021,79,16,"this"],[1,1026,79,21,"syncItem"],[1,1035,79,30,"index"],[1,1037,79,37,"getItemType"],[1,1039,79,49,"index"],[1,1042,79,57,"getStableId"],[1,1044,79,69,"index"],[1,1048,82,8],[1,1052,82,13],[1,1058,82,19,"index"],[1,1063,82,28,"validIndicesInPool"],[1,1065,83,17,"this"],[1,1070,83,22,"hasOptimizedKey"],[1,1086,83,38,"getStableId"],[1,1088,83,50,"index"],[1,1093,84,16,"this"],[1,1098,84,21,"syncItem"],[1,1107,84,30,"index"],[1,1109,84,37,"getItemType"],[1,1111,84,49,"index"],[1,1114,84,57,"getStableId"],[1,1116,84,69,"index"],[1,1120,88,8,"this"],[1,1125,88,13,"cleanup"],[1,1133,88,21,"getStableId"],[1,1135,88,34,"getItemType"],[1,1137,88,47,"engagedIndices"],[1,1139,88,63,"dataLength"],[1,1141,89,4],[1,1142,93,4,"hasOptimizedKey"],[1,1158,93,20,"stableId"],[1,1161,94,8],[1,1168,94,15,"this"],[1,1173,94,20,"stableIdMap"],[1,1185,94,32,"has"],[1,1189,94,36,"stableId"],[1,1191,95,4],[1,1192,101,4,"cleanup"],[1,1200,101,12,"getStableId"],[1,1202,101,25,"getItemType"],[1,1204,101,38,"engagedIndices"],[1,1206,101,54,"dataLength"],[1,1209,102,8],[1,1215,102,14,"itemsToDelete"],[1,1217,102,30],[1,1221,102,34,"Array"],[1,1227,104,8],[1,1231,104,13],[1,1237,104,20,"key"],[1,1239,104,25,"keyInfo"],[1,1244,104,37,"this"],[1,1249,104,42,"keyMap"],[1,1256,104,49,"entries"],[1,1266,104,60],[1,1267,105,12],[1,1273,105,18,"index"],[1,1279,105,20,"index"],[1,1281,105,25,"itemType"],[1,1290,105,27,"itemType"],[1,1292,105,35,"stableId"],[1,1301,105,37,"stableId"],[1,1304,105,50,"keyInfo"],[1,1306,106,18,"indexOutOfBounds"],[1,1308,106,37,"index"],[1,1311,106,46,"dataLength"],[1,1313,107,18,"hasStableIdChanged"],[1,1316,107,40,"indexOutOfBounds"],[1,1319,107,60,"getStableId"],[1,1321,107,72,"index"],[1,1326,107,83,"stableId"],[1,1328,108,12],[1,1331,108,16,"indexOutOfBounds"],[1,1334,108,36,"hasStableIdChanged"],[1,1336,108,56],[1,1337,109,16],[1,1343,109,22,"nextIndex"],[1,1345,109,34,"this"],[1,1350,109,39,"unProcessedIndices"],[1,1369,109,58,"values"],[1,1378,109,67,"next"],[1,1385,109,74,"value"],[1,1391,110,16],[1,1395,110,20,"shouldDeleteKey"],[1,1398,110,38],[1,1400,111,16],[1,1408,111,34,"undefined"],[1,1412,111,20,"nextIndex"],[1,1414,111,45],[1,1415,112,20],[1,1421,112,26,"nextItemType"],[1,1423,112,41,"getItemType"],[1,1425,112,53,"nextIndex"],[1,1428,113,26,"nextStableId"],[1,1430,113,41,"getStableId"],[1,1432,113,53,"nextIndex"],[1,1435,114,24,"itemType"],[1,1439,114,37,"nextItemType"],[1,1443,115,24,"this"],[1,1448,115,29,"syncItem"],[1,1457,115,38,"nextIndex"],[1,1459,115,49,"nextItemType"],[1,1461,115,63,"nextStableId"],[1,1464,116,24,"shouldDeleteKey"],[1,1467,116,42],[1,1469,118,16],[1,1470,119,20,"shouldDeleteKey"],[1,1474,120,20,"this"],[1,1479,120,25,"deleteKeyFromRecyclePool"],[1,1504,120,50,"itemType"],[1,1506,120,60,"key"],[1,1509,121,20,"this"],[1,1514,121,25,"stableIdMap"],[1,1526,121,37,"delete"],[1,1533,121,44,"stableId"],[1,1536,122,20,"itemsToDelete"],[1,1538,122,34,"push"],[1,1543,122,39,"key"],[1,1546,124,12],[1,1547,125,8],[1,1548,126,8],[1,1552,126,13],[1,1558,126,19,"key"],[1,1563,126,26,"itemsToDelete"],[1,1565,127,12,"this"],[1,1570,127,17,"keyMap"],[1,1577,127,24,"delete"],[1,1584,127,31,"key"],[1,1587,130,8],[1,1593,130,14,"itemsRenderedForRecycling"],[1,1595,130,42,"this"],[1,1600,130,47,"keyMap"],[1,1607,130,54,"size"],[1,1612,130,61,"engagedIndices"],[1,1614,130,76,"length"],[1,1621,131,8],[1,1624,131,12,"itemsRenderedForRecycling"],[1,1626,131,40,"this"],[1,1631,131,45,"maxItemsInRecyclePool"],[1,1653,131,68],[1,1654,132,12],[1,1660,132,18,"deleteCount"],[1,1662,132,32,"itemsRenderedForRecycling"],[1,1664,132,60,"this"],[1,1669,132,65,"maxItemsInRecyclePool"],[1,1691,133,12],[1,1695,133,16,"deleted"],[1,1697,133,26],[1,1699,135,12],[1,1705,135,18,"entries"],[1,1707,135,28,"Array"],[1,1713,135,34,"from"],[1,1718,135,39,"this"],[1,1723,135,44,"keyMap"],[1,1730,135,51,"entries"],[1,1741,135,62,"reverse"],[1,1751,136,12],[1,1755,136,17],[1,1759,136,21,"i"],[1,1761,136,25],[1,1763,136,28,"i"],[1,1765,136,32,"entries"],[1,1767,136,40,"length"],[1,1775,136,50,"deleted"],[1,1777,136,60,"deleteCount"],[1,1779,136,73,"i"],[1,1783,136,78],[1,1784,137,16],[1,1790,137,23,"key"],[1,1792,137,28,"keyInfo"],[1,1795,137,39,"entries"],[1,1797,137,47,"i"],[1,1801,138,22,"index"],[1,1807,138,24,"index"],[1,1809,138,29,"itemType"],[1,1818,138,31,"itemType"],[1,1820,138,39,"stableId"],[1,1829,138,41,"stableId"],[1,1832,138,54,"keyInfo"],[1,1834,139,21,"engagedIndices"],[1,1836,139,36,"includes"],[1,1845,139,45,"index"],[1,1850,140,20,"this"],[1,1855,140,25,"deleteKeyFromRecyclePool"],[1,1880,140,50,"itemType"],[1,1882,140,60,"key"],[1,1885,141,20,"this"],[1,1890,141,25,"stableIdMap"],[1,1902,141,37,"delete"],[1,1909,141,44,"stableId"],[1,1912,142,20,"this"],[1,1917,142,25,"keyMap"],[1,1924,142,32,"delete"],[1,1931,142,39,"key"],[1,1934,143,20,"deleted"],[1,1938,145,12],[1,1939,146,8],[1,1940,147,4],[1,1941,151,4,"recycleKey"],[1,1952,151,15,"key"],[1,1955,152,8],[1,1958,152,12,"this"],[1,1963,152,17,"disableRecycling"],[1,1980,153,12],[1,1987,155,8],[1,1993,155,14,"keyInfo"],[1,1995,155,24,"this"],[1,2000,155,29,"keyMap"],[1,2007,155,36,"get"],[1,2011,155,40,"key"],[1,2014,156,8],[1,2018,156,13,"keyInfo"],[1,2020,157,12],[1,2027,159,8],[1,2033,159,14,"itemType"],[1,2042,159,16,"itemType"],[1,2045,159,29,"keyInfo"],[1,2047,161,21,"this"],[1,2052,161,26,"getRecyclePoolForType"],[1,2074,161,48,"itemType"],[1,2077,162,13,"add"],[1,2081,162,17,"key"],[1,2083,163,4],[1,2084,167,4,"getRenderStack"],[1,2101,168,8],[1,2108,168,15,"this"],[1,2113,168,20,"keyMap"],[1,2119,169,4],[1,2120,176,4,"syncItem"],[1,2129,176,13,"index"],[1,2131,176,20,"itemType"],[1,2133,176,30,"stableId"],[1,2136,178,8],[1,2142,178,14,"newKey"],[1,2144,178,23,"this"],[1,2149,178,28,"stableIdMap"],[1,2161,178,40,"get"],[1,2165,178,44,"stableId"],[1,2169,179,12,"this"],[1,2174,179,17,"getKeyFromRecyclePool"],[1,2196,179,39,"itemType"],[1,2200,180,12,"this"],[1,2205,180,17,"generateKey"],[1,2219,181,8,"this"],[1,2224,181,13,"unProcessedIndices"],[1,2243,181,32,"delete"],[1,2250,181,39,"index"],[1,2253,182,8],[1,2259,182,14,"keyInfo"],[1,2261,182,24,"this"],[1,2266,182,29,"keyMap"],[1,2273,182,36,"get"],[1,2277,182,40,"newKey"],[1,2280,201,8],[1,2287,183,12,"keyInfo"],[1,2290,185,12,"this"],[1,2295,185,17,"deleteKeyFromRecyclePool"],[1,2320,185,42,"itemType"],[1,2322,185,52,"newKey"],[1,2325,186,12,"this"],[1,2330,186,17,"deleteKeyFromRecyclePool"],[1,2355,186,42,"keyInfo"],[1,2357,186,50,"itemType"],[1,2366,186,60,"newKey"],[1,2369,187,12,"this"],[1,2374,187,17,"stableIdMap"],[1,2386,187,29,"delete"],[1,2393,187,36,"keyInfo"],[1,2395,187,44,"stableId"],[1,2405,188,12,"keyInfo"],[1,2407,188,20,"index"],[1,2413,188,28,"index"],[1,2415,189,12,"keyInfo"],[1,2417,189,20,"itemType"],[1,2426,189,31,"itemType"],[1,2428,190,12,"keyInfo"],[1,2430,190,20,"stableId"],[1,2439,190,31,"stableId"],[1,2442,194,12,"this"],[1,2447,194,17,"keyMap"],[1,2454,194,24,"set"],[1,2458,194,28,"newKey"],[1,2460,194,36],[1,2461,195,16,"itemType"],[1,2472,196,16,"index"],[1,2480,197,16,"stableId"],[1,2493,200,8,"this"],[1,2498,200,13,"stableIdMap"],[1,2510,200,25,"set"],[1,2514,200,29,"stableId"],[1,2516,200,39,"newKey"],[1,2519,201,15,"newKey"],[1,2520,202,4],[1,2521,207,4,"clearRecyclePool"],[1,2540,209,8],[1,2544,209,13],[1,2550,209,19,"pool"],[1,2555,209,27,"this"],[1,2560,209,32,"recycleKeyPools"],[1,2576,209,48,"values"],[1,2585,210,12,"pool"],[1,2587,210,17,"clear"],[1,2594,212,4],[1,2595,217,4,"generateKey"],[1,2609,218,8],[1,2616,218,16,"this"],[1,2621,218,21,"keyCounter"],[1,2635,218,35,"toString"],[1,2645,219,4],[1,2646,223,4,"deleteKeyFromRecyclePool"],[1,2671,223,29,"itemType"],[1,2673,223,39,"key"],[1,2676,224,8],[1,2680,224,12,"_a"],[1,2682,225,54],[1,2690,225,9,"_a"],[1,2692,225,14,"this"],[1,2697,225,19,"recycleKeyPools"],[1,2713,225,35,"get"],[1,2717,225,39,"itemType"],[1,2727,225,69],[1,2731,225,62,"_a"],[1,2734,225,87,"_a"],[1,2736,225,90,"delete"],[1,2743,225,97,"key"],[1,2745,226,4],[1,2746,230,4,"getRecyclePoolForType"],[1,2768,230,26,"itemType"],[1,2771,231,8],[1,2775,231,12,"pool"],[1,2777,231,19,"this"],[1,2782,231,24,"recycleKeyPools"],[1,2798,231,40,"get"],[1,2802,231,44,"itemType"],[1,2805,236,8],[1,2812,232,13,"pool"],[1,2816,233,12,"pool"],[1,2818,233,19],[1,2822,233,23,"Set"],[1,2826,234,12,"this"],[1,2831,234,17,"recycleKeyPools"],[1,2847,234,33,"set"],[1,2851,234,37,"itemType"],[1,2853,234,47,"pool"],[1,2857,236,15,"pool"],[1,2858,237,4],[1,2859,242,4,"getKeyFromRecyclePool"],[1,2881,242,26,"itemType"],[1,2884,243,8],[1,2890,243,14,"pool"],[1,2892,243,21,"this"],[1,2897,243,26,"getRecyclePoolForType"],[1,2919,243,48,"itemType"],[1,2922,244,8],[1,2925,244,12,"pool"],[1,2927,244,17,"size"],[1,2932,244,24],[1,2934,244,27],[1,2935,245,12],[1,2941,245,18,"key"],[1,2943,245,24,"pool"],[1,2945,245,29,"values"],[1,2954,245,38,"next"],[1,2961,245,45,"value"],[1,2967,247,12],[1,2974,246,12,"pool"],[1,2976,246,17,"delete"],[1,2983,246,24,"key"],[1,2986,247,19,"key"],[1,2987,248,8],[1,2988,250,4],[1,2990,251,1],[1,2993]],"functionMap":{"names":["<global>","RenderStackManager","constructor","sync","keyMap.forEach$argument_0","hasOptimizedKey","cleanup","recycleKey","getRenderStack","syncItem","clearRecyclePool","generateKey","deleteKeyFromRecyclePool","getRecyclePoolForType","getKeyFromRecyclePool"],"mappings":"AAA;OCK;ICI;KDQ;IEc;4BCI;SDkB;KFmC;III;KJE;IKM;KL8C;IMI;KNY;IOI;KPE;IQO;KR0B;ISK;KTK;IUK;KVE;IWI;KXG;IYI;KZO;IaK;KbQ;CDC"},"hasCjsExports":false},"type":"js/module"}]}